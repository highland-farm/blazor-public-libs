var zt=(z,Q,o)=>new Promise((h,t)=>{var e=c=>{try{u(o.next(c))}catch(f){t(f)}},r=c=>{try{u(o.throw(c))}catch(f){t(f)}},u=c=>c.done?h(c.value):Promise.resolve(c.value).then(e,r);u((o=o.apply(z,Q)).next())});var pr=Object.create,Lt=Object.defineProperty,vr=Object.getPrototypeOf,gr=Object.prototype.hasOwnProperty,yr=Object.getOwnPropertyNames,mr=Object.getOwnPropertyDescriptor,_r=(z,Q,o)=>Q in z?Lt(z,Q,{enumerable:!0,configurable:!0,writable:!0,value:o}):z[Q]=o,xr=z=>Lt(z,"__esModule",{value:!0}),br=(z,Q)=>()=>(Q||(Q={exports:{}},z(Q.exports,Q)),Q.exports),wr=(z,Q,o)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let h of yr(Q))!gr.call(z,h)&&h!=="default"&&Lt(z,h,{get:()=>Q[h],enumerable:!(o=mr(Q,h))||o.enumerable});return z},Or=z=>wr(xr(Lt(z!=null?pr(vr(z)):{},"default",z&&z.__esModule&&"default"in z?{get:()=>z.default,enumerable:!0}:{value:z,enumerable:!0})),z),ht=(z,Q,o)=>(_r(z,typeof Q!="symbol"?Q+"":Q,o),o),qt=(z,Q,o)=>new Promise((h,t)=>{var e=c=>{try{u(o.next(c))}catch(f){t(f)}},r=c=>{try{u(o.throw(c))}catch(f){t(f)}},u=c=>c.done?h(c.value):Promise.resolve(c.value).then(e,r);u((o=o.apply(z,Q)).next())}),Cr=br((z,Q)=>{(function(o,h){typeof z=="object"&&typeof Q=="object"?Q.exports=h():typeof define=="function"&&define.amd?define([],h):typeof z=="object"?z.Quagga=h():o.Quagga=h()})(window,function(){return function(o){var h={};function t(e){if(h[e])return h[e].exports;var r=h[e]={i:e,l:!1,exports:{}};return o[e].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=o,t.c=h,t.d=function(e,r,u){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:u})},t.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r||4&r&&typeof e=="object"&&e&&e.__esModule)return e;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&r&&typeof e!="string")for(var c in e)t.d(u,c,function(f){return e[f]}.bind(null,c));return u},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=87)}([function(o,h){o.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(o,h){o.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(o,h){function t(e){return o.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},t(e)}o.exports=t},function(o,h){o.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(o,h){function t(e,r){for(var u=0;u<r.length;u++){var c=r[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}o.exports=function(e,r,u){return r&&t(e.prototype,r),u&&t(e,u),e}},function(o,h,t){var e=t(19),r=t(1);o.exports=function(u,c){return!c||e(c)!=="object"&&typeof c!="function"?r(u):c}},function(o,h,t){var e=t(222);o.exports=function(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(u&&u.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),u&&e(r,u)}},function(o,h,t){o.exports={EPSILON:t(61),create:t(62),clone:t(154),fromValues:t(155),copy:t(156),set:t(157),equals:t(158),exactEquals:t(159),add:t(160),subtract:t(63),sub:t(161),multiply:t(64),mul:t(162),divide:t(65),div:t(163),inverse:t(164),min:t(165),max:t(166),rotate:t(167),floor:t(168),ceil:t(169),round:t(170),scale:t(171),scaleAndAdd:t(172),distance:t(66),dist:t(173),squaredDistance:t(67),sqrDist:t(174),length:t(68),len:t(175),squaredLength:t(69),sqrLen:t(176),negate:t(177),normalize:t(178),dot:t(179),cross:t(180),lerp:t(181),random:t(182),transformMat2:t(183),transformMat2d:t(184),transformMat3:t(185),transformMat4:t(186),forEach:t(187),limit:t(188)}},function(o,h,t){"use strict";h.a={init:function(e,r){for(var u=e.length;u--;)e[u]=r},shuffle:function(e){for(var r=e.length-1;r>=0;r--){var u=Math.floor(Math.random()*r),c=e[r];e[r]=e[u],e[u]=c}return e},toPointList:function(e){var r=e.reduce(function(u,c){var f="[".concat(c.join(","),"]");return u.push(f),u},[]);return"[".concat(r.join(`,\r
`),"]")},threshold:function(e,r,u){return e.reduce(function(c,f){return u.apply(e,[f])>=r&&c.push(f),c},[])},maxIndex:function(e){for(var r=0,u=0;u<e.length;u++)e[u]>e[r]&&(r=u);return r},max:function(e){for(var r=0,u=0;u<e.length;u++)e[u]>r&&(r=e[u]);return r},sum:function(e){for(var r=e.length,u=0;r--;)u+=e[r];return u}}},function(o,h,t){"use strict";t.d(h,"h",function(){return j}),t.d(h,"i",function(){return U}),t.d(h,"b",function(){return H}),t.d(h,"j",function(){return K}),t.d(h,"e",function(){return B}),t.d(h,"c",function(){return Z}),t.d(h,"f",function(){return C}),t.d(h,"g",function(){return k}),t.d(h,"a",function(){return F}),t.d(h,"d",function(){return J});var e=t(7),r=t(83),u={clone:e.clone,dot:e.dot},c=function(R,L){var O=[],N={rad:0,vec:u.clone([0,0])},V={};function w(A){V[A.id]=A,O.push(A)}function S(){var A,T=0;for(A=0;A<O.length;A++)T+=O[A].rad;N.rad=T/O.length,N.vec=u.clone([Math.cos(N.rad),Math.sin(N.rad)])}return w(R),S(),{add:function(A){V[A.id]||(w(A),S())},fits:function(A){return Math.abs(u.dot(A.point.vec,N.vec))>L},getPoints:function(){return O},getCenter:function(){return N}}},f=function(R,L,O){return{rad:R[O],point:R,id:L}},m=t(8),x={clone:e.clone},b={clone:r.clone};function j(R,L){return{x:R,y:L,toVec2:function(){return x.clone([this.x,this.y])},toVec3:function(){return b.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function I(R,L){L||(L=8);for(var O=R.data,N=O.length,V=8-L,w=new Int32Array(1<<L);N--;)w[O[N]>>V]++;return w}function U(R,L){var O=function(N){var V,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,S=8-w;function A(Y,nt){for(var tt=0,G=Y;G<=nt;G++)tt+=V[G];return tt}function T(Y,nt){for(var tt=0,G=Y;G<=nt;G++)tt+=G*V[G];return tt}function M(){var Y,nt,tt,G,et=[0],ut=(1<<w)-1;V=I(N,w);for(var ct=1;ct<ut;ct++)(tt=(Y=A(0,ct))*(nt=A(ct+1,ut)))==0&&(tt=1),G=T(0,ct)*nt-T(ct+1,ut)*Y,et[ct]=G*G/tt;return m.a.maxIndex(et)}var q=M();return q<<S}(R);return function(N,V,w){w||(w=N);for(var S=N.data,A=S.length,T=w.data;A--;)T[A]=S[A]<V?1:0}(R,O,L),O}function H(R,L,O){var N,V,w,S,A=[];function T(M){var q=!1;for(V=0;V<A.length;V++)(w=A[V]).fits(M)&&(w.add(M),q=!0);return q}for(O||(O="rad"),N=0;N<R.length;N++)T(S=f(R[N],N,O))||A.push(c(S,L));return A}function K(R,L,O){var N,V,w,S,A=0,T=0,M=[];for(N=0;N<L;N++)M[N]={score:0,item:null};for(N=0;N<R.length;N++)if((V=O.apply(this,[R[N]]))>T)for((w=M[A]).score=V,w.item=R[N],T=Number.MAX_VALUE,S=0;S<L;S++)M[S].score<T&&(T=M[S].score,A=S);return M}function B(R,L,O){for(var N,V=0,w=L.x,S=Math.floor(R.length/4),A=L.x/2,T=0,M=L.x;w<S;){for(N=0;N<A;N++)O[T]=(.299*R[4*V+0]+.587*R[4*V+1]+.114*R[4*V+2]+(.299*R[4*(V+1)+0]+.587*R[4*(V+1)+1]+.114*R[4*(V+1)+2])+(.299*R[4*w+0]+.587*R[4*w+1]+.114*R[4*w+2])+(.299*R[4*(w+1)+0]+.587*R[4*(w+1)+1]+.114*R[4*(w+1)+2]))/4,T++,V+=2,w+=2;V+=M,w+=M}}function Z(R,L,O){var N=R.length/4|0;if(O&&O.singleChannel===!0)for(var V=0;V<N;V++)L[V]=R[4*V+0];else for(var w=0;w<N;w++)L[w]=.299*R[4*w+0]+.587*R[4*w+1]+.114*R[4*w+2]}function C(R,L){for(var O=R.data,N=R.size.x,V=L.data,w=0,S=N,A=O.length,T=N/2,M=0;S<A;){for(var q=0;q<T;q++)V[M]=Math.floor((O[w]+O[w+1]+O[S]+O[S+1])/4),M++,w+=2,S+=2;w+=N,S+=N}}function k(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],O=R[0],N=R[1],V=R[2],w=V*N,S=w*(1-Math.abs(O/60%2-1)),A=V-w,T=0,M=0,q=0;return O<60?(T=w,M=S):O<120?(T=S,M=w):O<180?(M=w,q=S):O<240?(M=S,q=w):O<300?(T=S,q=w):O<360&&(T=w,q=S),L[0]=255*(T+A)|0,L[1]=255*(M+A)|0,L[2]=255*(q+A)|0,L}function D(R){for(var L=[],O=[],N=1;N<Math.sqrt(R)+1;N++)R%N==0&&(O.push(N),N!==R/N&&L.unshift(Math.floor(R/N)));return O.concat(L)}function F(R,L){var O,N=D(L.x),V=D(L.y),w=Math.max(L.x,L.y),S=function(tt,G){for(var et=0,ut=0,ct=[];et<tt.length&&ut<G.length;)tt[et]===G[ut]?(ct.push(tt[et]),et++,ut++):tt[et]>G[ut]?ut++:et++;return ct}(N,V),A=[8,10,15,20,32,60,80],T={"x-small":5,small:4,medium:3,large:2,"x-large":1},M=T[R]||T.medium,q=A[M],Y=Math.floor(w/q);function nt(tt){for(var G=0,et=tt[Math.floor(tt.length/2)];G<tt.length-1&&tt[G]<Y;)G++;return G>0&&(et=Math.abs(tt[G]-Y)>Math.abs(tt[G-1]-Y)?tt[G-1]:tt[G]),Y/et<A[M+1]/A[M]&&Y/et>A[M-1]/A[M]?{x:et,y:et}:null}return(O=nt(S))||(O=nt(D(w)))||(O=nt(D(Y*q))),O}var W={top:function(R,L){return R.unit==="%"?Math.floor(L.height*(R.value/100)):null},right:function(R,L){return R.unit==="%"?Math.floor(L.width-L.width*(R.value/100)):null},bottom:function(R,L){return R.unit==="%"?Math.floor(L.height-L.height*(R.value/100)):null},left:function(R,L){return R.unit==="%"?Math.floor(L.width*(R.value/100)):null}};function J(R,L,O){var N={width:R,height:L},V=Object.keys(O).reduce(function(w,S){var A=function(M){return{value:parseFloat(M),unit:(M.indexOf("%"),M.length,"%")}}(O[S]),T=W[S](A,N);return w[S]=T,w},{});return{sx:V.left,sy:V.top,sw:V.right-V.left,sh:V.bottom-V.top}}},function(o,h,t){"use strict";var e=t(82),r=t.n(e),u=t(3),c=t.n(u),f=t(4),m=t.n(f),x=t(0),b=t.n(x),j=t(7),I=t(9),U=t(8),H={clone:j.clone};function K(Z){if(Z<0)throw new Error("expected positive number, received ".concat(Z))}var B=function(){function Z(C,k){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,F=arguments.length>3?arguments[3]:void 0;c()(this,Z),b()(this,"data",void 0),b()(this,"size",void 0),b()(this,"indexMapping",void 0),k?this.data=k:(this.data=new D(C.x*C.y),F&&U.a.init(this.data,0)),this.size=C}return m()(Z,[{key:"inImageWithBorder",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return K(k),C.x>=0&&C.y>=0&&C.x<this.size.x+2*k&&C.y<this.size.y+2*k}},{key:"subImageAsCopy",value:function(C,k){K(k.x),K(k.y);for(var D=C.size,F=D.x,W=D.y,J=0;J<F;J++)for(var R=0;R<W;R++)C.data[R*F+J]=this.data[(k.y+R)*this.size.x+k.x+J];return C}},{key:"get",value:function(C,k){return this.data[k*this.size.x+C]}},{key:"getSafe",value:function(C,k){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var D=0;D<this.size.x;D++)this.indexMapping.x[D]=D,this.indexMapping.x[D+this.size.x]=D;for(var F=0;F<this.size.y;F++)this.indexMapping.y[F]=F,this.indexMapping.y[F+this.size.y]=F}return this.data[this.indexMapping.y[k+this.size.y]*this.size.x+this.indexMapping.x[C+this.size.x]]}},{key:"set",value:function(C,k,D){return this.data[k*this.size.x+C]=D,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var C=this.size,k=C.x,D=C.y,F=0;F<k;F++)this.data[F]=this.data[(D-1)*k+F]=0;for(var W=1;W<D-1;W++)this.data[W*k]=this.data[W*k+(k-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(C){var k,D,F,W,J,R,L,O,N,V,w=this.data,S=this.size.y,A=this.size.x,T=[],M=[],q=Math.PI,Y=q/4;if(C<=0)return M;for(J=0;J<C;J++)T[J]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(D=0;D<S;D++)for(W=D*D,k=0;k<A;k++)(F=w[D*A+k])>0&&((R=T[F-1]).m00+=1,R.m01+=D,R.m10+=k,R.m11+=k*D,R.m02+=W,R.m20+=k*k);for(J=0;J<C;J++)R=T[J],isNaN(R.m00)||R.m00===0||(O=R.m10/R.m00,N=R.m01/R.m00,L=R.m11/R.m00-O*N,V=(R.m02/R.m00-N*N-(R.m20/R.m00-O*O))/(2*L),V=.5*Math.atan(V)+(L>=0?Y:-Y)+q,R.theta=(180*V/q+90)%180-90,R.theta<0&&(R.theta+=180),R.rad=V>q?V-q:V,R.vec=H.clone([Math.cos(V),Math.sin(V)]),M.push(R));return M}},{key:"getAsRGBA",value:function(){for(var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,k=new Uint8ClampedArray(4*this.size.x*this.size.y),D=0;D<this.size.y;D++)for(var F=0;F<this.size.x;F++){var W=D*this.size.x+F,J=this.get(F,D)*C;k[4*W+0]=J,k[4*W+1]=J,k[4*W+2]=J,k[4*W+3]=255}return k}},{key:"show",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,D=C.getContext("2d");if(!D)throw new Error("Unable to get canvas context");var F=D.getImageData(0,0,C.width,C.height),W=this.getAsRGBA(k);C.width=this.size.x,C.height=this.size.y;var J=new ImageData(W,F.width,F.height);D.putImageData(J,0,0)}},{key:"overlay",value:function(C,k,D){var F=k<0||k>360?360:k,W=[0,1,1],J=[0,0,0],R=[255,255,255],L=[0,0,0],O=C.getContext("2d");if(!O)throw new Error("Unable to get canvas context");for(var N=O.getImageData(D.x,D.y,this.size.x,this.size.y),V=N.data,w=this.data.length;w--;){W[0]=this.data[w]*F;var S=4*w,A=W[0]<=0?R:W[0]>=360?L:Object(I.g)(W,J),T=r()(A,3);V[S]=T[0],V[S+1]=T[1],V[S+2]=T[2],V[S+3]=255}O.putImageData(N,D.x,D.y)}}]),Z}();h.a=B},function(o,h,t){o.exports=t(227)},function(o,h){o.exports=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}},function(o,h){var t=Array.isArray;o.exports=t},function(o,h,t){"use strict";h.a={drawRect:function(e,r,u,c){u.strokeStyle=c.color,u.fillStyle=c.color,u.lineWidth=c.lineWidth||1,u.beginPath(),u.strokeRect(e.x,e.y,r.x,r.y)},drawPath:function(e,r,u,c){u.strokeStyle=c.color,u.fillStyle=c.color,u.lineWidth=c.lineWidth,u.beginPath(),u.moveTo(e[0][r.x],e[0][r.y]);for(var f=1;f<e.length;f++)u.lineTo(e[f][r.x],e[f][r.y]);u.closePath(),u.stroke()},drawImage:function(e,r,u){var c=u.getImageData(0,0,r.x,r.y),f=c.data,m=f.length,x=e.length;if(m/x!=4)return!1;for(;x--;){var b=e[x];f[--m]=255,f[--m]=b,f[--m]=b,f[--m]=b}return u.putImageData(c,0,0),!0}}},function(o,h,t){var e=t(88),r=t(143)(function(u,c,f){e(u,c,f)});o.exports=r},function(o,h,t){var e=t(226);function r(u,c,f){return typeof Reflect!="undefined"&&Reflect.get?o.exports=r=Reflect.get:o.exports=r=function(m,x,b){var j=e(m,x);if(j){var I=Object.getOwnPropertyDescriptor(j,x);return I.get?I.get.call(b):I.value}},r(u,c,f||u)}o.exports=r},function(o,h,t){var e=t(44),r=typeof self=="object"&&self&&self.Object===Object&&self,u=e||r||Function("return this")();o.exports=u},function(o,h){o.exports=function(t){return t!=null&&typeof t=="object"}},function(o,h){function t(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o.exports=t=function(r){return typeof r}:o.exports=t=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t(e)}o.exports=t},function(o,h){function t(e,r,u,c,f,m,x){try{var b=e[m](x),j=b.value}catch(I){return void u(I)}b.done?r(j):Promise.resolve(j).then(c,f)}o.exports=function(e){return function(){var r=this,u=arguments;return new Promise(function(c,f){var m=e.apply(r,u);function x(j){t(m,c,f,x,b,"next",j)}function b(j){t(m,c,f,x,b,"throw",j)}x(void 0)})}}},function(o,h,t){"use strict";h.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,r){var u,c=e.data,f=r.data,m=this.searchDirections,x=e.size.x;function b(I,U,H,K){var B,Z,C;for(B=0;B<7;B++){if(Z=I.cy+m[I.dir][0],C=I.cx+m[I.dir][1],c[u=Z*x+C]===U&&(f[u]===0||f[u]===H))return f[u]=H,I.cy=Z,I.cx=C,!0;f[u]===0&&(f[u]=K),I.dir=(I.dir+1)%8}return!1}function j(I,U,H){return{dir:H,x:I,y:U,next:null,prev:null}}return{trace:function(I,U,H,K){return b(I,U,H,K)},contourTracing:function(I,U,H,K,B){return function(Z,C,k,D,F){var W,J,R,L=null,O={cx:C,cy:Z,dir:0};if(b(O,D,k,F)){W=L=j(C,Z,O.dir),R=O.dir,(J=j(O.cx,O.cy,0)).prev=W,W.next=J,J.next=null,W=J;do O.dir=(O.dir+6)%8,b(O,D,k,F),R!==O.dir?(W.dir=O.dir,(J=j(O.cx,O.cy,0)).prev=W,W.next=J,J.next=null,W=J):(W.dir=R,W.x=O.cx,W.y=O.cy),R=O.dir;while(O.cx!==C||O.cy!==Z);L.prev=W.prev,W.prev.next=L}return L}(I,U,H,K,B)}}}}},function(o,h,t){var e=t(27),r=t(101),u=t(102),c=e?e.toStringTag:void 0;o.exports=function(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":c&&c in Object(f)?r(f):u(f)}},function(o,h,t){"use strict";(function(e){var r,u,c,f,m,x,b,j,I,U,H,K,B=t(7),Z=t(34),C=t(10),k=t(9),D=t(8),F=(t(14),t(85)),W=t(21),J=t(86),R={ctx:{binary:null},dom:{binary:null}},L={x:0,y:0};function O(w){var S,A,T,M,q,Y,nt,tt=I.size.x,G=I.size.y,et=-I.size.x,ut=-I.size.y;for(S=0,A=0;A<w.length;A++)S+=(M=w[A]).rad;for((S=(180*(S/=w.length)/Math.PI+90)%180-90)<0&&(S+=180),S=(180-S)*Math.PI/180,q=Z.copy(Z.create(),[Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S)]),A=0;A<w.length;A++)for(M=w[A],T=0;T<4;T++)B.transformMat2(M.box[T],M.box[T],q);for(A=0;A<w.length;A++)for(M=w[A],T=0;T<4;T++)M.box[T][0]<tt&&(tt=M.box[T][0]),M.box[T][0]>et&&(et=M.box[T][0]),M.box[T][1]<G&&(G=M.box[T][1]),M.box[T][1]>ut&&(ut=M.box[T][1]);for(Y=[[tt,G],[et,G],[et,ut],[tt,ut]],nt=r.halfSample?2:1,q=Z.invert(q,q),T=0;T<4;T++)B.transformMat2(Y[T],Y[T],q);for(T=0;T<4;T++)B.scale(Y[T],Y[T],nt);return Y}function N(w,S){I.subImageAsCopy(f,Object(k.h)(w,S)),K.skeletonize()}function V(w,S,A,T){var M,q,Y,nt,tt=[],G=[],et=Math.ceil(U.x/3);if(w.length>=2){for(M=0;M<w.length;M++)w[M].m00>et&&tt.push(w[M]);if(tt.length>=2){for(Y=function(ut){var ct=Object(k.b)(ut,.9),gt=Object(k.j)(ct,1,function(Rt){return Rt.getPoints().length}),lt=[],st=[];if(gt.length===1){lt=gt[0].item.getPoints();for(var pt=0;pt<lt.length;pt++)st.push(lt[pt].point)}return st}(tt),q=0,M=0;M<Y.length;M++)q+=Y[M].rad;Y.length>1&&Y.length>=tt.length/4*3&&Y.length>w.length/4&&(q/=Y.length,nt={index:S[1]*L.x+S[0],pos:{x:A,y:T},box:[B.clone([A,T]),B.clone([A+f.size.x,T]),B.clone([A+f.size.x,T+f.size.y]),B.clone([A,T+f.size.y])],moments:Y,rad:q,vec:B.clone([Math.cos(q),Math.sin(q)])},G.push(nt))}}return G}h.a={init:function(w,S){r=S,H=w,function(){u=r.halfSample?new C.a({x:H.size.x/2|0,y:H.size.y/2|0}):H,U=Object(k.a)(r.patchSize,u.size),L.x=u.size.x/U.x|0,L.y=u.size.y/U.y|0,I=new C.a(u.size,void 0,Uint8Array,!1),m=new C.a(U,void 0,Array,!0);var A=new ArrayBuffer(65536);f=new C.a(U,new Uint8Array(A,0,U.x*U.y)),c=new C.a(U,new Uint8Array(A,U.x*U.y*3,U.x*U.y),void 0,!0),K=Object(J.a)(typeof window!="undefined"?window:typeof self!="undefined"?self:e,{size:U.x},A),j=new C.a({x:u.size.x/f.size.x|0,y:u.size.y/f.size.y|0},void 0,Array,!0),x=new C.a(j.size,void 0,void 0,!0),b=new C.a(j.size,void 0,Int32Array,!0)}(),r.useWorker||typeof document=="undefined"||(R.dom.binary=document.createElement("canvas"),R.dom.binary.className="binaryBuffer",R.ctx.binary=R.dom.binary.getContext("2d"),R.dom.binary.width=I.size.x,R.dom.binary.height=I.size.y)},locate:function(){r.halfSample&&Object(k.f)(H,u),Object(k.i)(u,I),I.zeroBorder();var w=function(){var T,M,q,Y,nt,tt,G=[];for(T=0;T<L.x;T++)for(M=0;M<L.y;M++)N(q=f.size.x*T,Y=f.size.y*M),c.zeroBorder(),D.a.init(m.data,0),tt=F.a.create(c,m).rasterize(0),nt=m.moments(tt.count),G=G.concat(V(nt,[T,M],q,Y));return G}();if(w.length<L.x*L.y*.05)return null;var S=function(T){var M,q,Y=0,nt=0;function tt(){var et;for(et=0;et<b.data.length;et++)if(b.data[et]===0&&x.data[et]===1)return et;return b.length}function G(et){var ut,ct,gt,lt,st,pt=et%b.size.x,Rt=et/b.size.x|0;if(et<b.data.length)for(gt=j.data[et],b.data[et]=Y,st=0;st<W.a.searchDirections.length;st++)ct=Rt+W.a.searchDirections[st][0],ut=pt+W.a.searchDirections[st][1],lt=ct*b.size.x+ut,x.data[lt]!==0?b.data[lt]===0&&Math.abs(B.dot(j.data[lt].vec,gt.vec))>.95&&G(lt):b.data[lt]=Number.MAX_VALUE}for(D.a.init(x.data,0),D.a.init(b.data,0),D.a.init(j.data,null),M=0;M<T.length;M++)q=T[M],j.data[q.index]=q,x.data[q.index]=1;for(x.zeroBorder();(nt=tt())<b.data.length;)Y++,G(nt);return Y}(w);if(S<1)return null;var A=function(T){var M,q,Y=[];for(M=0;M<T;M++)Y.push(0);for(q=b.data.length;q--;)b.data[q]>0&&Y[b.data[q]-1]++;return(Y=Y.map(function(nt,tt){return{val:nt,label:tt+1}})).sort(function(nt,tt){return tt.val-nt.val}),Y.filter(function(nt){return nt.val>=5})}(S);return A.length===0?null:function(T,M){var q,Y,nt,tt,G=[],et=[];for(q=0;q<T.length;q++){for(Y=b.data.length,G.length=0;Y--;)b.data[Y]===T[q].label&&(nt=j.data[Y],G.push(nt));(tt=O(G))&&et.push(tt)}return et}(A)},checkImageConstraints:function(w,S){var A,T,M=w.getWidth(),q=w.getHeight(),Y=S.halfSample?.5:1;w.getConfig().area&&(T=Object(k.d)(M,q,w.getConfig().area),w.setTopRight({x:T.sx,y:T.sy}),w.setCanvasSize({x:M,y:q}),M=T.sw,q=T.sh);var nt={x:Math.floor(M*Y),y:Math.floor(q*Y)};if(A=Object(k.a)(S.patchSize,nt),w.setWidth(Math.floor(Math.floor(nt.x/A.x)*(1/Y)*A.x)),w.setHeight(Math.floor(Math.floor(nt.y/A.y)*(1/Y)*A.y)),w.getWidth()%A.x==0&&w.getHeight()%A.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(M," )and height (").concat(q,") must a multiple of ").concat(A.x))}}}).call(this,t(45))},function(o,h,t){var e=t(90),r=t(91),u=t(92),c=t(93),f=t(94);function m(x){var b=-1,j=x==null?0:x.length;for(this.clear();++b<j;){var I=x[b];this.set(I[0],I[1])}}m.prototype.clear=e,m.prototype.delete=r,m.prototype.get=u,m.prototype.has=c,m.prototype.set=f,o.exports=m},function(o,h,t){var e=t(26);o.exports=function(r,u){for(var c=r.length;c--;)if(e(r[c][0],u))return c;return-1}},function(o,h){o.exports=function(t,e){return t===e||t!=t&&e!=e}},function(o,h,t){var e=t(17).Symbol;o.exports=e},function(o,h,t){var e=t(35)(Object,"create");o.exports=e},function(o,h,t){var e=t(115);o.exports=function(r,u){var c=r.__data__;return e(u)?c[typeof u=="string"?"string":"hash"]:c.map}},function(o,h,t){var e=t(130),r=t(18),u=Object.prototype,c=u.hasOwnProperty,f=u.propertyIsEnumerable,m=e(function(){return arguments}())?e:function(x){return r(x)&&c.call(x,"callee")&&!f.call(x,"callee")};o.exports=m},function(o,h){var t=/^(?:0|[1-9]\d*)$/;o.exports=function(e,r){var u=typeof e;return!!(r=r==null?9007199254740991:r)&&(u=="number"||u!="symbol"&&t.test(e))&&e>-1&&e%1==0&&e<r}},function(o,h,t){var e=t(13),r=t(231),u=t(232),c=t(235);o.exports=function(f,m){return e(f)?f:r(f,m)?[f]:u(c(f))}},function(o,h,t){var e=t(223),r=t(224),u=t(59),c=t(225);o.exports=function(f){return e(f)||r(f)||u(f)||c()}},function(o,h,t){o.exports={determinant:t(247),transpose:t(248),multiply:t(249),identity:t(250),adjoint:t(251),rotate:t(252),invert:t(253),create:t(254),scale:t(255),copy:t(256),frob:t(257),ldu:t(258)}},function(o,h,t){var e=t(100),r=t(106);o.exports=function(u,c){var f=r(u,c);return e(f)?f:void 0}},function(o,h,t){var e=t(22),r=t(12);o.exports=function(u){if(!r(u))return!1;var c=e(u);return c=="[object Function]"||c=="[object GeneratorFunction]"||c=="[object AsyncFunction]"||c=="[object Proxy]"}},function(o,h,t){var e=t(48);o.exports=function(r,u,c){u=="__proto__"&&e?e(r,u,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[u]=c}},function(o,h){o.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(o,h,t){var e=t(36),r=t(40);o.exports=function(u){return u!=null&&r(u.length)&&!e(u)}},function(o,h){o.exports=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},function(o,h,t){var e=t(22),r=t(18);o.exports=function(u){return typeof u=="symbol"||r(u)&&e(u)=="[object Symbol]"}},function(o,h,t){var e=t(41);o.exports=function(r){if(typeof r=="string"||e(r))return r;var u=r+"";return u=="0"&&1/r==-1/0?"-0":u}},function(o,h,t){var e=t(35)(t(17),"Map");o.exports=e},function(o,h,t){(function(e){var r=typeof e=="object"&&e&&e.Object===Object&&e;o.exports=r}).call(this,t(45))},function(o,h){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){typeof window=="object"&&(t=window)}o.exports=t},function(o,h,t){var e=t(107),r=t(114),u=t(116),c=t(117),f=t(118);function m(x){var b=-1,j=x==null?0:x.length;for(this.clear();++b<j;){var I=x[b];this.set(I[0],I[1])}}m.prototype.clear=e,m.prototype.delete=r,m.prototype.get=u,m.prototype.has=c,m.prototype.set=f,o.exports=m},function(o,h,t){var e=t(37),r=t(26);o.exports=function(u,c,f){(f!==void 0&&!r(u[c],f)||f===void 0&&!(c in u))&&e(u,c,f)}},function(o,h,t){var e=t(35),r=function(){try{var u=e(Object,"defineProperty");return u({},"",{}),u}catch(c){}}();o.exports=r},function(o,h,t){var e=t(129)(Object.getPrototypeOf,Object);o.exports=e},function(o,h){var t=Object.prototype;o.exports=function(e){var r=e&&e.constructor;return e===(typeof r=="function"&&r.prototype||t)}},function(o,h,t){(function(e){var r=t(17),u=t(132),c=h&&!h.nodeType&&h,f=c&&typeof e=="object"&&e&&!e.nodeType&&e,m=f&&f.exports===c?r.Buffer:void 0,x=(m?m.isBuffer:void 0)||u;e.exports=x}).call(this,t(38)(o))},function(o,h,t){var e=t(134),r=t(135),u=t(136),c=u&&u.isTypedArray,f=c?r(c):e;o.exports=f},function(o,h){o.exports=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]}},function(o,h,t){var e=t(37),r=t(26),u=Object.prototype.hasOwnProperty;o.exports=function(c,f,m){var x=c[f];u.call(c,f)&&r(x,m)&&(m!==void 0||f in c)||e(c,f,m)}},function(o,h,t){var e=t(139),r=t(141),u=t(39);o.exports=function(c){return u(c)?e(c,!0):r(c)}},function(o,h){o.exports=function(t){return t}},function(o,h,t){var e=t(145),r=Math.max;o.exports=function(u,c,f){return c=r(c===void 0?u.length-1:c,0),function(){for(var m=arguments,x=-1,b=r(m.length-c,0),j=Array(b);++x<b;)j[x]=m[c+x];x=-1;for(var I=Array(c+1);++x<c;)I[x]=m[x];return I[c]=f(j),e(u,this,I)}}},function(o,h,t){var e=t(146),r=t(148)(e);o.exports=r},function(o,h,t){var e=t(60);o.exports=function(r,u){if(r){if(typeof r=="string")return e(r,u);var c=Object.prototype.toString.call(r).slice(8,-1);return c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set"?Array.from(r):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?e(r,u):void 0}}},function(o,h){o.exports=function(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,u=new Array(e);r<e;r++)u[r]=t[r];return u}},function(o,h){o.exports=1e-6},function(o,h){o.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}},function(o,h){o.exports=function(t,e){var r=e[0]-t[0],u=e[1]-t[1];return Math.sqrt(r*r+u*u)}},function(o,h){o.exports=function(t,e){var r=e[0]-t[0],u=e[1]-t[1];return r*r+u*u}},function(o,h){o.exports=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}},function(o,h){o.exports=function(t){var e=t[0],r=t[1];return e*e+r*r}},function(o,h){o.exports=1e-6},function(o,h){o.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(o,h){o.exports=function(t,e,r){var u=new Float32Array(3);return u[0]=t,u[1]=e,u[2]=r,u}},function(o,h){o.exports=function(t,e){var r=e[0],u=e[1],c=e[2],f=r*r+u*u+c*c;return f>0&&(f=1/Math.sqrt(f),t[0]=e[0]*f,t[1]=e[1]*f,t[2]=e[2]*f),t}},function(o,h){o.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}},function(o,h){o.exports=function(t,e){var r=e[0]-t[0],u=e[1]-t[1],c=e[2]-t[2];return Math.sqrt(r*r+u*u+c*c)}},function(o,h){o.exports=function(t,e){var r=e[0]-t[0],u=e[1]-t[1],c=e[2]-t[2];return r*r+u*u+c*c}},function(o,h){o.exports=function(t){var e=t[0],r=t[1],u=t[2];return Math.sqrt(e*e+r*r+u*u)}},function(o,h){o.exports=function(t){var e=t[0],r=t[1],u=t[2];return e*e+r*r+u*u}},function(o,h,t){var e=t(151),r=t(152),u=t(59),c=t(153);o.exports=function(f,m){return e(f)||r(f,m)||u(f,m)||c()}},function(o,h,t){o.exports={EPSILON:t(70),create:t(71),clone:t(189),angle:t(190),fromValues:t(72),copy:t(191),set:t(192),equals:t(193),exactEquals:t(194),add:t(195),subtract:t(75),sub:t(196),multiply:t(76),mul:t(197),divide:t(77),div:t(198),min:t(199),max:t(200),floor:t(201),ceil:t(202),round:t(203),scale:t(204),scaleAndAdd:t(205),distance:t(78),dist:t(206),squaredDistance:t(79),sqrDist:t(207),length:t(80),len:t(208),squaredLength:t(81),sqrLen:t(209),negate:t(210),inverse:t(211),normalize:t(73),dot:t(74),cross:t(212),lerp:t(213),random:t(214),transformMat4:t(215),transformMat3:t(216),transformQuat:t(217),rotateX:t(218),rotateY:t(219),rotateZ:t(220),forEach:t(221)}},function(o,h,t){var e=t(228),r=t(242)(function(u,c){return u==null?{}:e(u,c)});o.exports=r},function(o,h,t){"use strict";var e=t(21),r={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(u,c){var f=u.data,m=c.data,x=u.size.x,b=u.size.y,j=e.a.create(u,c);return{rasterize:function(I){var U,H,K,B,Z,C,k,D,F,W,J,R,L=[],O=0;for(R=0;R<400;R++)L[R]=0;for(L[0]=f[0],F=null,C=1;C<b-1;C++)for(B=0,H=L[0],Z=1;Z<x-1;Z++)if(m[J=C*x+Z]===0)if((U=f[J])!==H){if(B===0)L[K=O+1]=U,H=U,(k=j.contourTracing(C,Z,K,U,r.DIR.OUTSIDE_EDGE))!==null&&(O++,B=K,(D=r.createContour2D()).dir=r.CONTOUR_DIR.CW_DIR,D.index=B,D.firstVertex=k,D.nextpeer=F,D.insideContours=null,F!==null&&(F.prevpeer=D),F=D);else if((k=j.contourTracing(C,Z,r.DIR.INSIDE_EDGE,U,B))!==null){for((D=r.createContour2D()).firstVertex=k,D.insideContours=null,D.dir=I===0?r.CONTOUR_DIR.CCW_DIR:r.CONTOUR_DIR.CW_DIR,D.index=I,W=F;W!==null&&W.index!==B;)W=W.nextpeer;W!==null&&(D.nextpeer=W.insideContours,W.insideContours!==null&&(W.insideContours.prevpeer=D),W.insideContours=D)}}else m[J]=B;else m[J]===r.DIR.OUTSIDE_EDGE||m[J]===r.DIR.INSIDE_EDGE?(B=0,H=m[J]===r.DIR.INSIDE_EDGE?f[J]:L[0]):H=L[B=m[J]];for(W=F;W!==null;)W.index=I,W=W.nextpeer;return{cc:F,count:O}},debug:{drawContour:function(I,U){var H,K,B,Z=I.getContext("2d"),C=U;for(Z.strokeStyle="red",Z.fillStyle="red",Z.lineWidth=1,H=C!==null?C.insideContours:null;C!==null;){switch(H!==null?(K=H,H=H.nextpeer):(K=C,H=(C=C.nextpeer)!==null?C.insideContours:null),K.dir){case r.CONTOUR_DIR.CW_DIR:Z.strokeStyle="red";break;case r.CONTOUR_DIR.CCW_DIR:Z.strokeStyle="blue";break;case r.CONTOUR_DIR.UNKNOWN_DIR:Z.strokeStyle="green"}B=K.firstVertex,Z.beginPath(),Z.moveTo(B.x,B.y);do B=B.next,Z.lineTo(B.x,B.y);while(B!==K.firstVertex);Z.stroke()}}}}}};h.a=r},function(o,h,t){"use strict";h.a=function(e,r,u){var c=new e.Uint8Array(u),f=r.size|0,m=e.Math.imul;function x(C,k){C|=0,k|=0;var D=0,F=0,W=0,J=0,R=0,L=0,O=0,N=0;for(D=1;(D|0)<(f-1|0);D=D+1|0)for(N=N+f|0,F=1;(F|0)<(f-1|0);F=F+1|0)J=N-f|0,R=N+f|0,L=F-1|0,O=F+1|0,W=(c[C+J+L|0]|0)+(c[C+J+O|0]|0)+(c[C+N+F|0]|0)+(c[C+R+L|0]|0)+(c[C+R+O|0]|0)|0,(W|0)==(5|0)?c[k+N+F|0]=1:c[k+N+F|0]=0}function b(C,k,D){C|=0,k|=0,D|=0;var F=0;for(F=m(f,f)|0;(F|0)>0;)F=F-1|0,c[D+F|0]=(c[C+F|0]|0)-(c[k+F|0]|0)|0}function j(C,k,D){C|=0,k|=0,D|=0;var F=0;for(F=m(f,f)|0;(F|0)>0;)F=F-1|0,c[D+F|0]=c[C+F|0]|0|(c[k+F|0]|0)|0}function I(C){C|=0;var k=0,D=0;for(D=m(f,f)|0;(D|0)>0;)D=D-1|0,k=(k|0)+(c[C+D|0]|0)|0;return k|0}function U(C,k){C|=0,k|=0;var D=0;for(D=m(f,f)|0;(D|0)>0;)D=D-1|0,c[C+D|0]=k}function H(C,k){C|=0,k|=0;var D=0,F=0,W=0,J=0,R=0,L=0,O=0,N=0;for(D=1;(D|0)<(f-1|0);D=D+1|0)for(N=N+f|0,F=1;(F|0)<(f-1|0);F=F+1|0)J=N-f|0,R=N+f|0,L=F-1|0,O=F+1|0,W=(c[C+J+L|0]|0)+(c[C+J+O|0]|0)+(c[C+N+F|0]|0)+(c[C+R+L|0]|0)+(c[C+R+O|0]|0)|0,(W|0)>(0|0)?c[k+N+F|0]=1:c[k+N+F|0]=0}function K(C,k){C|=0,k|=0;var D=0;for(D=m(f,f)|0;(D|0)>0;)D=D-1|0,c[k+D|0]=c[C+D|0]|0}function B(C){C|=0;var k=0,D=0;for(k=0;(k|0)<(f-1|0);k=k+1|0)c[C+k|0]=0,c[C+D|0]=0,D=D+f-1|0,c[C+D|0]=0,D=D+1|0;for(k=0;(k|0)<(f|0);k=k+1|0)c[C+D|0]=0,D=D+1|0}function Z(){var C=0,k=0,D=0,F=0,W=0,J=0;k=m(f,f)|0,D=k+k|0,F=D+k|0,U(F,0),B(C);do x(C,k),H(k,D),b(C,D,D),j(F,D,F),K(k,C),W=I(C)|0,J=(W|0)==0|0;while(!J)}return{skeletonize:Z}}},function(o,h,t){o.exports=t(259)},function(o,h,t){var e=t(89),r=t(47),u=t(119),c=t(121),f=t(12),m=t(55),x=t(53);o.exports=function b(j,I,U,H,K){j!==I&&u(I,function(B,Z){if(K||(K=new e),f(B))c(j,I,Z,U,b,H,K);else{var C=H?H(x(j,Z),B,Z+"",j,I,K):void 0;C===void 0&&(C=B),r(j,Z,C)}},m)}},function(o,h,t){var e=t(24),r=t(95),u=t(96),c=t(97),f=t(98),m=t(99);function x(b){var j=this.__data__=new e(b);this.size=j.size}x.prototype.clear=r,x.prototype.delete=u,x.prototype.get=c,x.prototype.has=f,x.prototype.set=m,o.exports=x},function(o,h){o.exports=function(){this.__data__=[],this.size=0}},function(o,h,t){var e=t(25),r=Array.prototype.splice;o.exports=function(u){var c=this.__data__,f=e(c,u);return!(f<0)&&(f==c.length-1?c.pop():r.call(c,f,1),--this.size,!0)}},function(o,h,t){var e=t(25);o.exports=function(r){var u=this.__data__,c=e(u,r);return c<0?void 0:u[c][1]}},function(o,h,t){var e=t(25);o.exports=function(r){return e(this.__data__,r)>-1}},function(o,h,t){var e=t(25);o.exports=function(r,u){var c=this.__data__,f=e(c,r);return f<0?(++this.size,c.push([r,u])):c[f][1]=u,this}},function(o,h,t){var e=t(24);o.exports=function(){this.__data__=new e,this.size=0}},function(o,h){o.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(o,h){o.exports=function(t){return this.__data__.get(t)}},function(o,h){o.exports=function(t){return this.__data__.has(t)}},function(o,h,t){var e=t(24),r=t(43),u=t(46);o.exports=function(c,f){var m=this.__data__;if(m instanceof e){var x=m.__data__;if(!r||x.length<199)return x.push([c,f]),this.size=++m.size,this;m=this.__data__=new u(x)}return m.set(c,f),this.size=m.size,this}},function(o,h,t){var e=t(36),r=t(103),u=t(12),c=t(105),f=/^\[object .+?Constructor\]$/,m=Function.prototype,x=Object.prototype,b=m.toString,j=x.hasOwnProperty,I=RegExp("^"+b.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(U){return!(!u(U)||r(U))&&(e(U)?I:f).test(c(U))}},function(o,h,t){var e=t(27),r=Object.prototype,u=r.hasOwnProperty,c=r.toString,f=e?e.toStringTag:void 0;o.exports=function(m){var x=u.call(m,f),b=m[f];try{m[f]=void 0;var j=!0}catch(U){}var I=c.call(m);return j&&(x?m[f]=b:delete m[f]),I}},function(o,h){var t=Object.prototype.toString;o.exports=function(e){return t.call(e)}},function(o,h,t){var e,r=t(104),u=(e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";o.exports=function(c){return!!u&&u in c}},function(o,h,t){var e=t(17)["__core-js_shared__"];o.exports=e},function(o,h){var t=Function.prototype.toString;o.exports=function(e){if(e!=null){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},function(o,h){o.exports=function(t,e){return t==null?void 0:t[e]}},function(o,h,t){var e=t(108),r=t(24),u=t(43);o.exports=function(){this.size=0,this.__data__={hash:new e,map:new(u||r),string:new e}}},function(o,h,t){var e=t(109),r=t(110),u=t(111),c=t(112),f=t(113);function m(x){var b=-1,j=x==null?0:x.length;for(this.clear();++b<j;){var I=x[b];this.set(I[0],I[1])}}m.prototype.clear=e,m.prototype.delete=r,m.prototype.get=u,m.prototype.has=c,m.prototype.set=f,o.exports=m},function(o,h,t){var e=t(28);o.exports=function(){this.__data__=e?e(null):{},this.size=0}},function(o,h){o.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(o,h,t){var e=t(28),r=Object.prototype.hasOwnProperty;o.exports=function(u){var c=this.__data__;if(e){var f=c[u];return f==="__lodash_hash_undefined__"?void 0:f}return r.call(c,u)?c[u]:void 0}},function(o,h,t){var e=t(28),r=Object.prototype.hasOwnProperty;o.exports=function(u){var c=this.__data__;return e?c[u]!==void 0:r.call(c,u)}},function(o,h,t){var e=t(28);o.exports=function(r,u){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=e&&u===void 0?"__lodash_hash_undefined__":u,this}},function(o,h,t){var e=t(29);o.exports=function(r){var u=e(this,r).delete(r);return this.size-=u?1:0,u}},function(o,h){o.exports=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}},function(o,h,t){var e=t(29);o.exports=function(r){return e(this,r).get(r)}},function(o,h,t){var e=t(29);o.exports=function(r){return e(this,r).has(r)}},function(o,h,t){var e=t(29);o.exports=function(r,u){var c=e(this,r),f=c.size;return c.set(r,u),this.size+=c.size==f?0:1,this}},function(o,h,t){var e=t(120)();o.exports=e},function(o,h){o.exports=function(t){return function(e,r,u){for(var c=-1,f=Object(e),m=u(e),x=m.length;x--;){var b=m[t?x:++c];if(r(f[b],b,f)===!1)break}return e}}},function(o,h,t){var e=t(47),r=t(122),u=t(123),c=t(126),f=t(127),m=t(30),x=t(13),b=t(131),j=t(51),I=t(36),U=t(12),H=t(133),K=t(52),B=t(53),Z=t(137);o.exports=function(C,k,D,F,W,J,R){var L=B(C,D),O=B(k,D),N=R.get(O);if(N)e(C,D,N);else{var V=J?J(L,O,D+"",C,k,R):void 0,w=V===void 0;if(w){var S=x(O),A=!S&&j(O),T=!S&&!A&&K(O);V=O,S||A||T?x(L)?V=L:b(L)?V=c(L):A?(w=!1,V=r(O,!0)):T?(w=!1,V=u(O,!0)):V=[]:H(O)||m(O)?(V=L,m(L)?V=Z(L):U(L)&&!I(L)||(V=f(O))):w=!1}w&&(R.set(O,V),W(V,O,F,J,R),R.delete(O)),e(C,D,V)}}},function(o,h,t){(function(e){var r=t(17),u=h&&!h.nodeType&&h,c=u&&typeof e=="object"&&e&&!e.nodeType&&e,f=c&&c.exports===u?r.Buffer:void 0,m=f?f.allocUnsafe:void 0;e.exports=function(x,b){if(b)return x.slice();var j=x.length,I=m?m(j):new x.constructor(j);return x.copy(I),I}}).call(this,t(38)(o))},function(o,h,t){var e=t(124);o.exports=function(r,u){var c=u?e(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}},function(o,h,t){var e=t(125);o.exports=function(r){var u=new r.constructor(r.byteLength);return new e(u).set(new e(r)),u}},function(o,h,t){var e=t(17).Uint8Array;o.exports=e},function(o,h){o.exports=function(t,e){var r=-1,u=t.length;for(e||(e=Array(u));++r<u;)e[r]=t[r];return e}},function(o,h,t){var e=t(128),r=t(49),u=t(50);o.exports=function(c){return typeof c.constructor!="function"||u(c)?{}:e(r(c))}},function(o,h,t){var e=t(12),r=Object.create,u=function(){function c(){}return function(f){if(!e(f))return{};if(r)return r(f);c.prototype=f;var m=new c;return c.prototype=void 0,m}}();o.exports=u},function(o,h){o.exports=function(t,e){return function(r){return t(e(r))}}},function(o,h,t){var e=t(22),r=t(18);o.exports=function(u){return r(u)&&e(u)=="[object Arguments]"}},function(o,h,t){var e=t(39),r=t(18);o.exports=function(u){return r(u)&&e(u)}},function(o,h){o.exports=function(){return!1}},function(o,h,t){var e=t(22),r=t(49),u=t(18),c=Function.prototype,f=Object.prototype,m=c.toString,x=f.hasOwnProperty,b=m.call(Object);o.exports=function(j){if(!u(j)||e(j)!="[object Object]")return!1;var I=r(j);if(I===null)return!0;var U=x.call(I,"constructor")&&I.constructor;return typeof U=="function"&&U instanceof U&&m.call(U)==b}},function(o,h,t){var e=t(22),r=t(40),u=t(18),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,o.exports=function(f){return u(f)&&r(f.length)&&!!c[e(f)]}},function(o,h){o.exports=function(t){return function(e){return t(e)}}},function(o,h,t){(function(e){var r=t(44),u=h&&!h.nodeType&&h,c=u&&typeof e=="object"&&e&&!e.nodeType&&e,f=c&&c.exports===u&&r.process,m=function(){try{var x=c&&c.require&&c.require("util").types;return x||f&&f.binding&&f.binding("util")}catch(b){}}();e.exports=m}).call(this,t(38)(o))},function(o,h,t){var e=t(138),r=t(55);o.exports=function(u){return e(u,r(u))}},function(o,h,t){var e=t(54),r=t(37);o.exports=function(u,c,f,m){var x=!f;f||(f={});for(var b=-1,j=c.length;++b<j;){var I=c[b],U=m?m(f[I],u[I],I,f,u):void 0;U===void 0&&(U=u[I]),x?r(f,I,U):e(f,I,U)}return f}},function(o,h,t){var e=t(140),r=t(30),u=t(13),c=t(51),f=t(31),m=t(52),x=Object.prototype.hasOwnProperty;o.exports=function(b,j){var I=u(b),U=!I&&r(b),H=!I&&!U&&c(b),K=!I&&!U&&!H&&m(b),B=I||U||H||K,Z=B?e(b.length,String):[],C=Z.length;for(var k in b)!j&&!x.call(b,k)||B&&(k=="length"||H&&(k=="offset"||k=="parent")||K&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||f(k,C))||Z.push(k);return Z}},function(o,h){o.exports=function(t,e){for(var r=-1,u=Array(t);++r<t;)u[r]=e(r);return u}},function(o,h,t){var e=t(12),r=t(50),u=t(142),c=Object.prototype.hasOwnProperty;o.exports=function(f){if(!e(f))return u(f);var m=r(f),x=[];for(var b in f)(b!="constructor"||!m&&c.call(f,b))&&x.push(b);return x}},function(o,h){o.exports=function(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}},function(o,h,t){var e=t(144),r=t(149);o.exports=function(u){return e(function(c,f){var m=-1,x=f.length,b=x>1?f[x-1]:void 0,j=x>2?f[2]:void 0;for(b=u.length>3&&typeof b=="function"?(x--,b):void 0,j&&r(f[0],f[1],j)&&(b=x<3?void 0:b,x=1),c=Object(c);++m<x;){var I=f[m];I&&u(c,I,m,b)}return c})}},function(o,h,t){var e=t(56),r=t(57),u=t(58);o.exports=function(c,f){return u(r(c,f,e),c+"")}},function(o,h){o.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(o,h,t){var e=t(147),r=t(48),u=t(56),c=r?function(f,m){return r(f,"toString",{configurable:!0,enumerable:!1,value:e(m),writable:!0})}:u;o.exports=c},function(o,h){o.exports=function(t){return function(){return t}}},function(o,h){var t=Date.now;o.exports=function(e){var r=0,u=0;return function(){var c=t(),f=16-(c-u);if(u=c,f>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},function(o,h,t){var e=t(26),r=t(39),u=t(31),c=t(12);o.exports=function(f,m,x){if(!c(x))return!1;var b=typeof m;return!!(b=="number"?r(x)&&u(m,x.length):b=="string"&&m in x)&&e(x[m],f)}},function(o,h){typeof window!="undefined"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(t,e){var r=65535&t,u=65535&e;return r*u+((t>>>16&65535)*u+r*(e>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(t){"use strict";if(t===null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var u=arguments[r];if(u!==null)for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c])}return e})},function(o,h){o.exports=function(t){if(Array.isArray(t))return t}},function(o,h){o.exports=function(t,e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t)){var r=[],u=!0,c=!1,f=void 0;try{for(var m,x=t[Symbol.iterator]();!(u=(m=x.next()).done)&&(r.push(m.value),!e||r.length!==e);u=!0);}catch(b){c=!0,f=b}finally{try{u||x.return==null||x.return()}finally{if(c)throw f}}return r}}},function(o,h){o.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(o,h){o.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},function(o,h){o.exports=function(t,e){var r=new Float32Array(2);return r[0]=t,r[1]=e,r}},function(o,h){o.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(o,h){o.exports=function(t,e,r){return t[0]=e,t[1]=r,t}},function(o,h,t){o.exports=function(r,u){var c=r[0],f=r[1],m=u[0],x=u[1];return Math.abs(c-m)<=e*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-x)<=e*Math.max(1,Math.abs(f),Math.abs(x))};var e=t(61)},function(o,h){o.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}},function(o,h,t){o.exports=t(63)},function(o,h,t){o.exports=t(64)},function(o,h,t){o.exports=t(65)},function(o,h){o.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},function(o,h){o.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}},function(o,h){o.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}},function(o,h){o.exports=function(t,e,r){var u=Math.cos(r),c=Math.sin(r),f=e[0],m=e[1];return t[0]=f*u-m*c,t[1]=f*c+m*u,t}},function(o,h){o.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},function(o,h){o.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},function(o,h){o.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}},function(o,h){o.exports=function(t,e,r,u){return t[0]=e[0]+r[0]*u,t[1]=e[1]+r[1]*u,t}},function(o,h,t){o.exports=t(66)},function(o,h,t){o.exports=t(67)},function(o,h,t){o.exports=t(68)},function(o,h,t){o.exports=t(69)},function(o,h){o.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(o,h){o.exports=function(t,e){var r=e[0],u=e[1],c=r*r+u*u;return c>0&&(c=1/Math.sqrt(c),t[0]=e[0]*c,t[1]=e[1]*c),t}},function(o,h){o.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(o,h){o.exports=function(t,e,r){var u=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=u,t}},function(o,h){o.exports=function(t,e,r,u){var c=e[0],f=e[1];return t[0]=c+u*(r[0]-c),t[1]=f+u*(r[1]-f),t}},function(o,h){o.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1];return t[0]=r[0]*u+r[2]*c,t[1]=r[1]*u+r[3]*c,t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1];return t[0]=r[0]*u+r[2]*c+r[4],t[1]=r[1]*u+r[3]*c+r[5],t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1];return t[0]=r[0]*u+r[3]*c+r[6],t[1]=r[1]*u+r[4]*c+r[7],t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1];return t[0]=r[0]*u+r[4]*c+r[12],t[1]=r[1]*u+r[5]*c+r[13],t}},function(o,h,t){o.exports=function(r,u,c,f,m,x){var b,j;for(u||(u=2),c||(c=0),j=f?Math.min(f*u+c,r.length):r.length,b=c;b<j;b+=u)e[0]=r[b],e[1]=r[b+1],m(e,e,x),r[b]=e[0],r[b+1]=e[1];return r};var e=t(62)()},function(o,h){o.exports=function(t,e,r){var u=e[0]*e[0]+e[1]*e[1];if(u>r*r){var c=Math.sqrt(u);t[0]=e[0]/c*r,t[1]=e[1]/c*r}else t[0]=e[0],t[1]=e[1];return t}},function(o,h){o.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(o,h,t){o.exports=function(c,f){var m=e(c[0],c[1],c[2]),x=e(f[0],f[1],f[2]);r(m,m),r(x,x);var b=u(m,x);return b>1?0:Math.acos(b)};var e=t(72),r=t(73),u=t(74)},function(o,h){o.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(o,h){o.exports=function(t,e,r,u){return t[0]=e,t[1]=r,t[2]=u,t}},function(o,h,t){o.exports=function(r,u){var c=r[0],f=r[1],m=r[2],x=u[0],b=u[1],j=u[2];return Math.abs(c-x)<=e*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(f-b)<=e*Math.max(1,Math.abs(f),Math.abs(b))&&Math.abs(m-j)<=e*Math.max(1,Math.abs(m),Math.abs(j))};var e=t(70)},function(o,h){o.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}},function(o,h,t){o.exports=t(75)},function(o,h,t){o.exports=t(76)},function(o,h,t){o.exports=t(77)},function(o,h){o.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}},function(o,h){o.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}},function(o,h){o.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(o,h){o.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(o,h){o.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(o,h){o.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}},function(o,h){o.exports=function(t,e,r,u){return t[0]=e[0]+r[0]*u,t[1]=e[1]+r[1]*u,t[2]=e[2]+r[2]*u,t}},function(o,h,t){o.exports=t(78)},function(o,h,t){o.exports=t(79)},function(o,h,t){o.exports=t(80)},function(o,h,t){o.exports=t(81)},function(o,h){o.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(o,h){o.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2],m=r[0],x=r[1],b=r[2];return t[0]=c*b-f*x,t[1]=f*m-u*b,t[2]=u*x-c*m,t}},function(o,h){o.exports=function(t,e,r,u){var c=e[0],f=e[1],m=e[2];return t[0]=c+u*(r[0]-c),t[1]=f+u*(r[1]-f),t[2]=m+u*(r[2]-m),t}},function(o,h){o.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI,u=2*Math.random()-1,c=Math.sqrt(1-u*u)*e;return t[0]=Math.cos(r)*c,t[1]=Math.sin(r)*c,t[2]=u*e,t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2],m=r[3]*u+r[7]*c+r[11]*f+r[15];return m=m||1,t[0]=(r[0]*u+r[4]*c+r[8]*f+r[12])/m,t[1]=(r[1]*u+r[5]*c+r[9]*f+r[13])/m,t[2]=(r[2]*u+r[6]*c+r[10]*f+r[14])/m,t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2];return t[0]=u*r[0]+c*r[3]+f*r[6],t[1]=u*r[1]+c*r[4]+f*r[7],t[2]=u*r[2]+c*r[5]+f*r[8],t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2],m=r[0],x=r[1],b=r[2],j=r[3],I=j*u+x*f-b*c,U=j*c+b*u-m*f,H=j*f+m*c-x*u,K=-m*u-x*c-b*f;return t[0]=I*j+K*-m+U*-b-H*-x,t[1]=U*j+K*-x+H*-m-I*-b,t[2]=H*j+K*-b+I*-x-U*-m,t}},function(o,h){o.exports=function(t,e,r,u){var c=r[1],f=r[2],m=e[1]-c,x=e[2]-f,b=Math.sin(u),j=Math.cos(u);return t[0]=e[0],t[1]=c+m*j-x*b,t[2]=f+m*b+x*j,t}},function(o,h){o.exports=function(t,e,r,u){var c=r[0],f=r[2],m=e[0]-c,x=e[2]-f,b=Math.sin(u),j=Math.cos(u);return t[0]=c+x*b+m*j,t[1]=e[1],t[2]=f+x*j-m*b,t}},function(o,h){o.exports=function(t,e,r,u){var c=r[0],f=r[1],m=e[0]-c,x=e[1]-f,b=Math.sin(u),j=Math.cos(u);return t[0]=c+m*j-x*b,t[1]=f+m*b+x*j,t[2]=e[2],t}},function(o,h,t){o.exports=function(r,u,c,f,m,x){var b,j;for(u||(u=3),c||(c=0),j=f?Math.min(f*u+c,r.length):r.length,b=c;b<j;b+=u)e[0]=r[b],e[1]=r[b+1],e[2]=r[b+2],m(e,e,x),r[b]=e[0],r[b+1]=e[1],r[b+2]=e[2];return r};var e=t(71)()},function(o,h){function t(e,r){return o.exports=t=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u},t(e,r)}o.exports=t},function(o,h,t){var e=t(60);o.exports=function(r){if(Array.isArray(r))return e(r)}},function(o,h){o.exports=function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}},function(o,h){o.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(o,h,t){var e=t(2);o.exports=function(r,u){for(;!Object.prototype.hasOwnProperty.call(r,u)&&(r=e(r))!==null;);return r}},function(o,h,t){var e=function(r){"use strict";var u=Object.prototype,c=u.hasOwnProperty,f=typeof Symbol=="function"?Symbol:{},m=f.iterator||"@@iterator",x=f.asyncIterator||"@@asyncIterator",b=f.toStringTag||"@@toStringTag";function j(w,S,A,T){var M=S&&S.prototype instanceof H?S:H,q=Object.create(M.prototype),Y=new O(T||[]);return q._invoke=function(nt,tt,G){var et="suspendedStart";return function(ut,ct){if(et==="executing")throw new Error("Generator is already running");if(et==="completed"){if(ut==="throw")throw ct;return V()}for(G.method=ut,G.arg=ct;;){var gt=G.delegate;if(gt){var lt=J(gt,G);if(lt){if(lt===U)continue;return lt}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(et==="suspendedStart")throw et="completed",G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);et="executing";var st=I(nt,tt,G);if(st.type==="normal"){if(et=G.done?"completed":"suspendedYield",st.arg===U)continue;return{value:st.arg,done:G.done}}st.type==="throw"&&(et="completed",G.method="throw",G.arg=st.arg)}}}(w,A,Y),q}function I(w,S,A){try{return{type:"normal",arg:w.call(S,A)}}catch(T){return{type:"throw",arg:T}}}r.wrap=j;var U={};function H(){}function K(){}function B(){}var Z={};Z[m]=function(){return this};var C=Object.getPrototypeOf,k=C&&C(C(N([])));k&&k!==u&&c.call(k,m)&&(Z=k);var D=B.prototype=H.prototype=Object.create(Z);function F(w){["next","throw","return"].forEach(function(S){w[S]=function(A){return this._invoke(S,A)}})}function W(w,S){var A;this._invoke=function(T,M){function q(){return new S(function(Y,nt){(function tt(G,et,ut,ct){var gt=I(w[G],w,et);if(gt.type!=="throw"){var lt=gt.arg,st=lt.value;return st&&typeof st=="object"&&c.call(st,"__await")?S.resolve(st.__await).then(function(pt){tt("next",pt,ut,ct)},function(pt){tt("throw",pt,ut,ct)}):S.resolve(st).then(function(pt){lt.value=pt,ut(lt)},function(pt){return tt("throw",pt,ut,ct)})}ct(gt.arg)})(T,M,Y,nt)})}return A=A?A.then(q,q):q()}}function J(w,S){var A=w.iterator[S.method];if(A===void 0){if(S.delegate=null,S.method==="throw"){if(w.iterator.return&&(S.method="return",S.arg=void 0,J(w,S),S.method==="throw"))return U;S.method="throw",S.arg=new TypeError("The iterator does not provide a 'throw' method")}return U}var T=I(A,w.iterator,S.arg);if(T.type==="throw")return S.method="throw",S.arg=T.arg,S.delegate=null,U;var M=T.arg;return M?M.done?(S[w.resultName]=M.value,S.next=w.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,U):M:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,U)}function R(w){var S={tryLoc:w[0]};1 in w&&(S.catchLoc=w[1]),2 in w&&(S.finallyLoc=w[2],S.afterLoc=w[3]),this.tryEntries.push(S)}function L(w){var S=w.completion||{};S.type="normal",delete S.arg,w.completion=S}function O(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(R,this),this.reset(!0)}function N(w){if(w){var S=w[m];if(S)return S.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var A=-1,T=function M(){for(;++A<w.length;)if(c.call(w,A))return M.value=w[A],M.done=!1,M;return M.value=void 0,M.done=!0,M};return T.next=T}}return{next:V}}function V(){return{value:void 0,done:!0}}return K.prototype=D.constructor=B,B.constructor=K,B[b]=K.displayName="GeneratorFunction",r.isGeneratorFunction=function(w){var S=typeof w=="function"&&w.constructor;return!!S&&(S===K||(S.displayName||S.name)==="GeneratorFunction")},r.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,B):(w.__proto__=B,b in w||(w[b]="GeneratorFunction")),w.prototype=Object.create(D),w},r.awrap=function(w){return{__await:w}},F(W.prototype),W.prototype[x]=function(){return this},r.AsyncIterator=W,r.async=function(w,S,A,T,M){M===void 0&&(M=Promise);var q=new W(j(w,S,A,T),M);return r.isGeneratorFunction(S)?q:q.next().then(function(Y){return Y.done?Y.value:q.next()})},F(D),D[b]="Generator",D[m]=function(){return this},D.toString=function(){return"[object Generator]"},r.keys=function(w){var S=[];for(var A in w)S.push(A);return S.reverse(),function T(){for(;S.length;){var M=S.pop();if(M in w)return T.value=M,T.done=!1,T}return T.done=!0,T}},r.values=N,O.prototype={constructor:O,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!w)for(var S in this)S.charAt(0)==="t"&&c.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var S=this;function A(tt,G){return q.type="throw",q.arg=w,S.next=tt,G&&(S.method="next",S.arg=void 0),!!G}for(var T=this.tryEntries.length-1;T>=0;--T){var M=this.tryEntries[T],q=M.completion;if(M.tryLoc==="root")return A("end");if(M.tryLoc<=this.prev){var Y=c.call(M,"catchLoc"),nt=c.call(M,"finallyLoc");if(Y&&nt){if(this.prev<M.catchLoc)return A(M.catchLoc,!0);if(this.prev<M.finallyLoc)return A(M.finallyLoc)}else if(Y){if(this.prev<M.catchLoc)return A(M.catchLoc,!0)}else{if(!nt)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return A(M.finallyLoc)}}}},abrupt:function(w,S){for(var A=this.tryEntries.length-1;A>=0;--A){var T=this.tryEntries[A];if(T.tryLoc<=this.prev&&c.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var M=T;break}}M&&(w==="break"||w==="continue")&&M.tryLoc<=S&&S<=M.finallyLoc&&(M=null);var q=M?M.completion:{};return q.type=w,q.arg=S,M?(this.method="next",this.next=M.finallyLoc,U):this.complete(q)},complete:function(w,S){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&S&&(this.next=S),U},finish:function(w){for(var S=this.tryEntries.length-1;S>=0;--S){var A=this.tryEntries[S];if(A.finallyLoc===w)return this.complete(A.completion,A.afterLoc),L(A),U}},catch:function(w){for(var S=this.tryEntries.length-1;S>=0;--S){var A=this.tryEntries[S];if(A.tryLoc===w){var T=A.completion;if(T.type==="throw"){var M=T.arg;L(A)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(w,S,A){return this.delegate={iterator:N(w),resultName:S,nextLoc:A},this.method==="next"&&(this.arg=void 0),U}},r}(o.exports);try{regeneratorRuntime=e}catch(r){Function("r","regeneratorRuntime = r")(e)}},function(o,h,t){var e=t(229),r=t(239);o.exports=function(u,c){return e(u,c,function(f,m){return r(u,m)})}},function(o,h,t){var e=t(230),r=t(238),u=t(32);o.exports=function(c,f,m){for(var x=-1,b=f.length,j={};++x<b;){var I=f[x],U=e(c,I);m(U,I)&&r(j,u(I,c),U)}return j}},function(o,h,t){var e=t(32),r=t(42);o.exports=function(u,c){for(var f=0,m=(c=e(c,u)).length;u!=null&&f<m;)u=u[r(c[f++])];return f&&f==m?u:void 0}},function(o,h,t){var e=t(13),r=t(41),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;o.exports=function(f,m){if(e(f))return!1;var x=typeof f;return!(x!="number"&&x!="symbol"&&x!="boolean"&&f!=null&&!r(f))||c.test(f)||!u.test(f)||m!=null&&f in Object(m)}},function(o,h,t){var e=t(233),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,c=e(function(f){var m=[];return f.charCodeAt(0)===46&&m.push(""),f.replace(r,function(x,b,j,I){m.push(j?I.replace(u,"$1"):b||x)}),m});o.exports=c},function(o,h,t){var e=t(234);o.exports=function(r){var u=e(r,function(f){return c.size===500&&c.clear(),f}),c=u.cache;return u}},function(o,h,t){var e=t(46);function r(u,c){if(typeof u!="function"||c!=null&&typeof c!="function")throw new TypeError("Expected a function");var f=function(){var m=arguments,x=c?c.apply(this,m):m[0],b=f.cache;if(b.has(x))return b.get(x);var j=u.apply(this,m);return f.cache=b.set(x,j)||b,j};return f.cache=new(r.Cache||e),f}r.Cache=e,o.exports=r},function(o,h,t){var e=t(236);o.exports=function(r){return r==null?"":e(r)}},function(o,h,t){var e=t(27),r=t(237),u=t(13),c=t(41),f=e?e.prototype:void 0,m=f?f.toString:void 0;o.exports=function x(b){if(typeof b=="string")return b;if(u(b))return r(b,x)+"";if(c(b))return m?m.call(b):"";var j=b+"";return j=="0"&&1/b==-1/0?"-0":j}},function(o,h){o.exports=function(t,e){for(var r=-1,u=t==null?0:t.length,c=Array(u);++r<u;)c[r]=e(t[r],r,t);return c}},function(o,h,t){var e=t(54),r=t(32),u=t(31),c=t(12),f=t(42);o.exports=function(m,x,b,j){if(!c(m))return m;for(var I=-1,U=(x=r(x,m)).length,H=U-1,K=m;K!=null&&++I<U;){var B=f(x[I]),Z=b;if(B==="__proto__"||B==="constructor"||B==="prototype")return m;if(I!=H){var C=K[B];(Z=j?j(C,B,K):void 0)===void 0&&(Z=c(C)?C:u(x[I+1])?[]:{})}e(K,B,Z),K=K[B]}return m}},function(o,h,t){var e=t(240),r=t(241);o.exports=function(u,c){return u!=null&&r(u,c,e)}},function(o,h){o.exports=function(t,e){return t!=null&&e in Object(t)}},function(o,h,t){var e=t(32),r=t(30),u=t(13),c=t(31),f=t(40),m=t(42);o.exports=function(x,b,j){for(var I=-1,U=(b=e(b,x)).length,H=!1;++I<U;){var K=m(b[I]);if(!(H=x!=null&&j(x,K)))break;x=x[K]}return H||++I!=U?H:!!(U=x==null?0:x.length)&&f(U)&&c(K,U)&&(u(x)||r(x))}},function(o,h,t){var e=t(243),r=t(57),u=t(58);o.exports=function(c){return u(r(c,void 0,e),c+"")}},function(o,h,t){var e=t(244);o.exports=function(r){return(r==null?0:r.length)?e(r,1):[]}},function(o,h,t){var e=t(245),r=t(246);o.exports=function u(c,f,m,x,b){var j=-1,I=c.length;for(m||(m=r),b||(b=[]);++j<I;){var U=c[j];f>0&&m(U)?f>1?u(U,f-1,m,x,b):e(b,U):x||(b[b.length]=U)}return b}},function(o,h){o.exports=function(t,e){for(var r=-1,u=e.length,c=t.length;++r<u;)t[c+r]=e[r];return t}},function(o,h,t){var e=t(27),r=t(30),u=t(13),c=e?e.isConcatSpreadable:void 0;o.exports=function(f){return u(f)||r(f)||!!(c&&f&&f[c])}},function(o,h){o.exports=function(t){return t[0]*t[3]-t[2]*t[1]}},function(o,h){o.exports=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2],m=e[3],x=r[0],b=r[1],j=r[2],I=r[3];return t[0]=u*x+f*b,t[1]=c*x+m*b,t[2]=u*j+f*I,t[3]=c*j+m*I,t}},function(o,h){o.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(o,h){o.exports=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2],m=e[3],x=Math.sin(r),b=Math.cos(r);return t[0]=u*b+f*x,t[1]=c*b+m*x,t[2]=u*-x+f*b,t[3]=c*-x+m*b,t}},function(o,h){o.exports=function(t,e){var r=e[0],u=e[1],c=e[2],f=e[3],m=r*f-c*u;return m?(m=1/m,t[0]=f*m,t[1]=-u*m,t[2]=-c*m,t[3]=r*m,t):null}},function(o,h){o.exports=function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(o,h){o.exports=function(t,e,r){var u=e[0],c=e[1],f=e[2],m=e[3],x=r[0],b=r[1];return t[0]=u*x,t[1]=c*x,t[2]=f*b,t[3]=m*b,t}},function(o,h){o.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},function(o,h){o.exports=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}},function(o,h){o.exports=function(t,e,r,u){return t[2]=u[2]/u[0],r[0]=u[0],r[1]=u[1],r[3]=u[3]-t[2]*r[1],[t,e,r]}},function(o,h,t){"use strict";t.r(h),t.d(h,"BarcodeDecoder",function(){return Vt}),t.d(h,"BarcodeReader",function(){return V}),t.d(h,"CameraAccess",function(){return kt}),t.d(h,"ImageDebug",function(){return I.a}),t.d(h,"ImageWrapper",function(){return f.a}),t.d(h,"ResultCollector",function(){return te});var e=t(19),r=t.n(e),u=t(15),c=t.n(u),f=(t(150),t(10)),m={},x={UP:1,DOWN:-1};m.getBarcodeLine=function(p,y,l){var n,i,a,s,d,v=0|y.x,g=0|y.y,_=0|l.x,E=0|l.y,P=Math.abs(E-g)>Math.abs(_-v),X=[],$=p.data,rt=p.size.x,ot=255,at=0;function it(Dt,dr){d=$[dr*rt+Dt],ot=d<ot?d:ot,at=d>at?d:at,X.push(d)}P&&(a=v,v=g,g=a,a=_,_=E,E=a),v>_&&(a=v,v=_,_=a,a=g,g=E,E=a);var dt=_-v,ft=Math.abs(E-g);n=dt/2|0,i=g;var mt=g<E?1:-1;for(s=v;s<_;s++)P?it(i,s):it(s,i),(n-=ft)<0&&(i+=mt,n+=dt);return{line:X,min:ot,max:at}},m.toBinaryLine=function(p){var y,l,n,i,a,s,d=p.min,v=p.max,g=p.line,_=d+(v-d)/2,E=[],P=(v-d)/12,X=-P;for(n=g[0]>_?x.UP:x.DOWN,E.push({pos:0,val:g[0]}),a=0;a<g.length-2;a++)n!==(i=(y=g[a+1]-g[a])+(l=g[a+2]-g[a+1])<X&&g[a+1]<1.5*_?x.DOWN:y+l>P&&g[a+1]>.5*_?x.UP:n)&&(E.push({pos:a,val:g[a]}),n=i);for(E.push({pos:g.length,val:g[g.length-1]}),s=E[0].pos;s<E[1].pos;s++)g[s]=g[s]>_?0:1;for(a=1;a<E.length-1;a++)for(P=E[a+1].val>E[a].val?E[a].val+(E[a+1].val-E[a].val)/3*2|0:E[a+1].val+(E[a].val-E[a+1].val)/3|0,s=E[a].pos;s<E[a+1].pos;s++)g[s]=g[s]>P?0:1;return{line:g,threshold:P}},m.debug={printFrequency:function(p,y){var l,n=y.getContext("2d");for(y.width=p.length,y.height=256,n.beginPath(),n.strokeStyle="blue",l=0;l<p.length;l++)n.moveTo(l,255),n.lineTo(l,255-p[l]);n.stroke(),n.closePath()},printPattern:function(p,y){var l,n=y.getContext("2d");for(y.width=p.length,n.fillColor="black",l=0;l<p.length;l++)p[l]===1&&n.fillRect(l,0,1,100)}};var b,j=m,I=t(14),U=t(3),H=t.n(U),K=t(4),B=t.n(K),Z=t(1),C=t.n(Z),k=t(6),D=t.n(k),F=t(5),W=t.n(F),J=t(2),R=t.n(J),L=t(0),O=t.n(L),N=t(8);(function(p){p[p.Forward=1]="Forward",p[p.Reverse=-1]="Reverse"})(b||(b={}));var V=function(){function p(y,l){return H()(this,p),O()(this,"_row",[]),O()(this,"config",{}),O()(this,"supplements",[]),O()(this,"SINGLE_CODE_ERROR",0),O()(this,"FORMAT","unknown"),O()(this,"CONFIG_KEYS",{}),this._row=[],this.config=y||{},l&&(this.supplements=l),this}return B()(p,[{key:"_nextUnset",value:function(y){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=l;n<y.length;n++)if(!y[n])return n;return y.length}},{key:"_matchPattern",value:function(y,l,n){var i,a=0,s=0,d=0,v=0,g=0,_=0;n=n||this.SINGLE_CODE_ERROR||1;for(var E=0;E<y.length;E++)d+=y[E],v+=l[E];if(d<v)return Number.MAX_VALUE;n*=i=d/v;for(var P=0;P<y.length;P++){if(g=y[P],_=l[P]*i,(s=Math.abs(g-_)/_)>n)return Number.MAX_VALUE;a+=s}return a/v}},{key:"_nextSet",value:function(y){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=l;n<y.length;n++)if(y[n])return n;return y.length}},{key:"_correctBars",value:function(y,l,n){for(var i=n.length,a=0;i--;)(a=y[n[i]]*(1-(1-l)/2))>1&&(y[n[i]]=a)}},{key:"decodePattern",value:function(y){this._row=y;var l=this._decode();return l===null?(this._row.reverse(),(l=this._decode())&&(l.direction=b.Reverse,l.start=this._row.length-l.start,l.end=this._row.length-l.end)):l.direction=b.Forward,l&&(l.format=this.FORMAT),l}},{key:"_matchRange",value:function(y,l,n){var i;for(i=y=y<0?0:y;i<l;i++)if(this._row[i]!==n)return!1;return!0}},{key:"_fillCounters",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=[],a=0;i[a]=0;for(var s=y;s<l;s++)this._row[s]^(n?1:0)?i[a]++:(i[++a]=1,n=!n);return i}},{key:"_toCounters",value:function(y,l){var n=l.length,i=this._row.length,a=!this._row[y],s=0;N.a.init(l,0);for(var d=y;d<i;d++)if(this._row[d]^(a?1:0))l[s]++;else{if(++s===n)break;l[s]=1,a=!a}return l}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),p}();function w(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var S=function(p){D()(l,p);var y=w(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"CODE_SHIFT",98),O()(C()(n),"CODE_C",99),O()(C()(n),"CODE_B",100),O()(C()(n),"CODE_A",101),O()(C()(n),"START_CODE_A",103),O()(C()(n),"START_CODE_B",104),O()(C()(n),"START_CODE_C",105),O()(C()(n),"STOP_CODE",106),O()(C()(n),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),O()(C()(n),"SINGLE_CODE_ERROR",.64),O()(C()(n),"AVG_CODE_ERROR",.3),O()(C()(n),"FORMAT","code_128"),O()(C()(n),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),n}return B()(l,[{key:"_decodeCode",value:function(n,i){for(var a={error:Number.MAX_VALUE,code:-1,start:n,end:n,correction:{bar:1,space:1}},s=[0,0,0,0,0,0],d=n,v=!this._row[d],g=0,_=d;_<this._row.length;_++)if(this._row[_]^(v?1:0))s[g]++;else{if(g===s.length-1){i&&this._correct(s,i);for(var E=0;E<this.CODE_PATTERN.length;E++){var P=this._matchPattern(s,this.CODE_PATTERN[E]);P<a.error&&(a.code=E,a.error=P)}return a.end=_,a.code===-1||a.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[a.code]&&(a.correction.bar=this.calculateCorrection(this.CODE_PATTERN[a.code],s,this.MODULE_INDICES.bar),a.correction.space=this.calculateCorrection(this.CODE_PATTERN[a.code],s,this.MODULE_INDICES.space)),a)}s[++g]=1,v=!v}return null}},{key:"_correct",value:function(n,i){this._correctBars(n,i.bar,this.MODULE_INDICES.bar),this._correctBars(n,i.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var n=[0,0,0,0,0,0],i=this._nextSet(this._row),a={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},s=!1,d=0,v=i;v<this._row.length;v++)if(this._row[v]^(s?1:0))n[d]++;else{if(d===n.length-1){for(var g=n.reduce(function(X,$){return X+$},0),_=this.START_CODE_A;_<=this.START_CODE_C;_++){var E=this._matchPattern(n,this.CODE_PATTERN[_]);E<a.error&&(a.code=_,a.error=E)}if(a.error<this.AVG_CODE_ERROR)return a.start=v-g,a.end=v,a.correction.bar=this.calculateCorrection(this.CODE_PATTERN[a.code],n,this.MODULE_INDICES.bar),a.correction.space=this.calculateCorrection(this.CODE_PATTERN[a.code],n,this.MODULE_INDICES.space),a;for(var P=0;P<4;P++)n[P]=n[P+2];n[4]=0,n[5]=0,d--}else d++;n[d]=1,s=!s}return null}},{key:"_decode",value:function(n,i){var a=this,s=this._findStart();if(s===null)return null;var d={code:s.code,start:s.start,end:s.end,correction:{bar:s.correction.bar,space:s.correction.space}},v=[];v.push(d);for(var g=d.code,_=function(it){switch(it){case a.START_CODE_A:return a.CODE_A;case a.START_CODE_B:return a.CODE_B;case a.START_CODE_C:return a.CODE_C;default:return null}}(d.code),E=!1,P=!1,X=P,$=!0,rt=0,ot=[],at=[];!E;){if(X=P,P=!1,(d=this._decodeCode(d.end,d.correction))!==null)switch(d.code!==this.STOP_CODE&&($=!0),d.code!==this.STOP_CODE&&(ot.push(d.code),g+=++rt*d.code),v.push(d),_){case this.CODE_A:if(d.code<64)at.push(String.fromCharCode(32+d.code));else if(d.code<96)at.push(String.fromCharCode(d.code-64));else switch(d.code!==this.STOP_CODE&&($=!1),d.code){case this.CODE_SHIFT:P=!0,_=this.CODE_B;break;case this.CODE_B:_=this.CODE_B;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:E=!0}break;case this.CODE_B:if(d.code<96)at.push(String.fromCharCode(32+d.code));else switch(d.code!==this.STOP_CODE&&($=!1),d.code){case this.CODE_SHIFT:P=!0,_=this.CODE_A;break;case this.CODE_A:_=this.CODE_A;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:E=!0}break;case this.CODE_C:if(d.code<100)at.push(d.code<10?"0"+d.code:d.code);else switch(d.code!==this.STOP_CODE&&($=!1),d.code){case this.CODE_A:_=this.CODE_A;break;case this.CODE_B:_=this.CODE_B;break;case this.STOP_CODE:E=!0}}else E=!0;X&&(_=_===this.CODE_A?this.CODE_B:this.CODE_A)}return d===null?null:(d.end=this._nextUnset(this._row,d.end),this._verifyTrailingWhitespace(d)?(g-=rt*ot[ot.length-1])%103!==ot[ot.length-1]?null:at.length?($&&at.splice(at.length-1,1),{code:at.join(""),start:s.start,end:d.end,codeset:_,startInfo:s,decodedCodes:v,endInfo:d,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(n){var i;return(i=n.end+(n.end-n.start)/2)<this._row.length&&this._matchRange(n.end,i,0)?n:null}},{key:"calculateCorrection",value:function(n,i,a){for(var s=a.length,d=0,v=0;s--;)v+=n[a[s]],d+=i[a[s]];return v/d}}]),l}(V);function A(p,y){var l=Object.keys(p);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(p);y&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(p,i).enumerable})),l.push.apply(l,n)}return l}function T(p){for(var y=1;y<arguments.length;y++){var l=arguments[y]!=null?arguments[y]:{};y%2?A(Object(l),!0).forEach(function(n){O()(p,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(l)):A(Object(l)).forEach(function(n){Object.defineProperty(p,n,Object.getOwnPropertyDescriptor(l,n))})}return p}function M(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var q=[1,1,1],Y=[1,1,1,1,1],nt=[1,1,2],tt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],G=[0,11,13,14,19,25,28,21,22,26],et=function(p){D()(l,p);var y=M(l);function l(n,i){var a;return H()(this,l),a=y.call(this,c()({supplements:[]},n),i),O()(C()(a),"FORMAT","ean_13"),O()(C()(a),"SINGLE_CODE_ERROR",.7),O()(C()(a),"STOP_PATTERN",[1,1,1]),a}return B()(l,[{key:"_findPattern",value:function(n,i,a,s){var d=new Array(n.length).fill(0),v={error:Number.MAX_VALUE,start:0,end:0},g=0;i||(i=this._nextSet(this._row));for(var _=!1,E=i;E<this._row.length;E++)if(this._row[E]^(a?1:0))d[g]+=1;else{if(g===d.length-1){var P=this._matchPattern(d,n);if(P<.48&&v.error&&P<v.error)return _=!0,v.error=P,v.start=E-d.reduce(function($,rt){return $+rt},0),v.end=E,v;if(s){for(var X=0;X<d.length-2;X++)d[X]=d[X+2];d[d.length-2]=0,d[d.length-1]=0,g--}}else g++;d[g]=1,a=!a}return _?v:null}},{key:"_decodeCode",value:function(n,i){var a=[0,0,0,0],s=n,d={error:Number.MAX_VALUE,code:-1,start:n,end:n},v=!this._row[s],g=0;i||(i=tt.length);for(var _=s;_<this._row.length;_++)if(this._row[_]^(v?1:0))a[g]++;else{if(g===a.length-1){for(var E=0;E<i;E++){var P=this._matchPattern(a,tt[E]);d.end=_,P<d.error&&(d.code=E,d.error=P)}return d.error>.48?null:d}a[++g]=1,v=!v}return null}},{key:"_findStart",value:function(){for(var n=this._nextSet(this._row),i=null;!i;){if(!(i=this._findPattern(q,n,!1,!0)))return null;var a=i.start-(i.end-i.start);if(a>=0&&this._matchRange(a,i.start,0))return i;n=i.end,i=null}return null}},{key:"_calculateFirstDigit",value:function(n){for(var i=0;i<G.length;i++)if(n===G[i])return i;return null}},{key:"_decodePayload",value:function(n,i,a){for(var s=T({},n),d=0,v=0;v<6;v++){if(!(s=this._decodeCode(s.end)))return null;s.code>=10?(s.code-=10,d|=1<<5-v):d|=0<<5-v,i.push(s.code),a.push(s)}var g=this._calculateFirstDigit(d);if(g===null)return null;i.unshift(g);var _=this._findPattern(Y,s.end,!0,!1);if(_===null||!_.end)return null;a.push(_);for(var E=0;E<6;E++){if(!(_=this._decodeCode(_.end,10)))return null;a.push(_),i.push(_.code)}return _}},{key:"_verifyTrailingWhitespace",value:function(n){var i=n.end+(n.end-n.start);return i<this._row.length&&this._matchRange(n.end,i,0)?n:null}},{key:"_findEnd",value:function(n,i){var a=this._findPattern(this.STOP_PATTERN,n,i,!1);return a!==null?this._verifyTrailingWhitespace(a):null}},{key:"_checksum",value:function(n){for(var i=0,a=n.length-2;a>=0;a-=2)i+=n[a];i*=3;for(var s=n.length-1;s>=0;s-=2)i+=n[s];return i%10==0}},{key:"_decodeExtensions",value:function(n){var i=this._nextSet(this._row,n),a=this._findPattern(nt,i,!1,!1);if(a===null)return null;for(var s=0;s<this.supplements.length;s++)try{var d=this.supplements[s]._decode(this._row,a.end);if(d!==null)return{code:d.code,start:i,startInfo:a,end:d.end,decodedCodes:d.decodedCodes,format:this.supplements[s].FORMAT}}catch(v){console.error("* decodeExtensions error in ",this.supplements[s],": ",v)}return null}},{key:"_decode",value:function(n,i){var a=new Array,s=new Array,d={},v=this._findStart();if(!v)return null;var g={start:v.start,end:v.end};if(s.push(g),!(g=this._decodePayload(g,a,s))||!(g=this._findEnd(g.end,!1))||(s.push(g),!this._checksum(a)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(g.end);if(!_||!_.decodedCodes)return null;var E=_.decodedCodes[_.decodedCodes.length-1],P={start:E.start+((E.end-E.start)/2|0),end:E.end};if(!this._verifyTrailingWhitespace(P))return null;d={supplement:_,code:a.join("")+_.code}}return T(T({code:a.join(""),start:v.start,end:g.end,startInfo:v,decodedCodes:s},d),{},{format:this.FORMAT})}}]),l}(V),ut=t(33),ct=t.n(ut);function gt(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var lt=new Uint16Array(ct()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(p){return p.charCodeAt(0)})),st=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),pt=function(p){D()(l,p);var y=gt(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","code_39"),n}return B()(l,[{key:"_findStart",value:function(){for(var n=this._nextSet(this._row),i=n,a=new Uint16Array([0,0,0,0,0,0,0,0,0]),s=0,d=!1,v=n;v<this._row.length;v++)if(this._row[v]^(d?1:0))a[s]++;else{if(s===a.length-1){if(this._toPattern(a)===148){var g=Math.floor(Math.max(0,i-(v-i)/4));if(this._matchRange(g,i,0))return{start:i,end:v}}i+=a[0]+a[1];for(var _=0;_<7;_++)a[_]=a[_+2];a[7]=0,a[8]=0,s--}else s++;a[s]=1,d=!d}return null}},{key:"_toPattern",value:function(n){for(var i=n.length,a=0,s=i,d=0;s>3;){a=this._findNextWidth(n,a),s=0;for(var v=0,g=0;g<i;g++)n[g]>a&&(v|=1<<i-1-g,s++,d+=n[g]);if(s===3){for(var _=0;_<i&&s>0;_++)if(n[_]>a&&(s--,2*n[_]>=d))return-1;return v}}return-1}},{key:"_findNextWidth",value:function(n,i){for(var a=Number.MAX_VALUE,s=0;s<n.length;s++)n[s]<a&&n[s]>i&&(a=n[s]);return a}},{key:"_patternToChar",value:function(n){for(var i=0;i<st.length;i++)if(st[i]===n)return String.fromCharCode(lt[i]);return null}},{key:"_verifyTrailingWhitespace",value:function(n,i,a){var s=N.a.sum(a);return 3*(i-n-s)>=s}},{key:"_decode",value:function(n,i){var a=new Uint16Array([0,0,0,0,0,0,0,0,0]),s=[];if(!(i=this._findStart()))return null;var d,v,g=this._nextSet(this._row,i.end);do{a=this._toCounters(g,a);var _=this._toPattern(a);if(_<0||(d=this._patternToChar(_))===null)return null;s.push(d),v=g,g+=N.a.sum(a),g=this._nextSet(this._row,g)}while(d!=="*");return s.pop(),s.length&&this._verifyTrailingWhitespace(v,g,a)?{code:s.join(""),start:i.start,end:g,startInfo:i,decodedCodes:s,format:this.FORMAT}:null}}]),l}(V),Rt=t(16),Mt=t.n(Rt);function pe(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var ve=/[IOQ]/g,ge=/[A-Z0-9]{17}/,ye=function(p){D()(l,p);var y=pe(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","code_39_vin"),n}return B()(l,[{key:"_checkChecksum",value:function(n){return!!n}},{key:"_decode",value:function(n,i){var a=Mt()(R()(l.prototype),"_decode",this).call(this,n,i);if(!a)return null;var s=a.code;return s&&(s=s.replace(ve,"")).match(ge)&&this._checkChecksum(s)?(a.code=s,a):null}}]),l}(pt);function me(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Ut=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Nt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Ht=[26,41,11,14],_e=function(p){D()(l,p);var y=me(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"_counters",[]),O()(C()(n),"FORMAT","codabar"),n}return B()(l,[{key:"_computeAlternatingThreshold",value:function(n,i){for(var a=Number.MAX_VALUE,s=0,d=0,v=n;v<i;v+=2)(d=this._counters[v])>s&&(s=d),d<a&&(a=d);return(a+s)/2|0}},{key:"_toPattern",value:function(n){var i=n+7;if(i>this._counters.length)return-1;for(var a=this._computeAlternatingThreshold(n,i),s=this._computeAlternatingThreshold(n+1,i),d=64,v=0,g=0,_=0;_<7;_++)v=(1&_)==0?a:s,this._counters[n+_]>v&&(g|=d),d>>=1;return g}},{key:"_isStartEnd",value:function(n){for(var i=0;i<Ht.length;i++)if(Ht[i]===n)return!0;return!1}},{key:"_sumCounters",value:function(n,i){for(var a=0,s=n;s<i;s++)a+=this._counters[s];return a}},{key:"_findStart",value:function(){for(var n=this._nextUnset(this._row),i=1;i<this._counters.length;i++){var a=this._toPattern(i);if(a!==-1&&this._isStartEnd(a))return{start:n+=this._sumCounters(0,i),end:n+this._sumCounters(i,i+8),startCounter:i,endCounter:i+8}}return null}},{key:"_patternToChar",value:function(n){for(var i=0;i<Nt.length;i++)if(Nt[i]===n)return String.fromCharCode(Ut[i]);return null}},{key:"_calculatePatternLength",value:function(n){for(var i=0,a=n;a<n+7;a++)i+=this._counters[a];return i}},{key:"_verifyWhitespace",value:function(n,i){return(n-1<=0||this._counters[n-1]>=this._calculatePatternLength(n)/2)&&(i+8>=this._counters.length||this._counters[i+7]>=this._calculatePatternLength(i)/2)}},{key:"_charToPattern",value:function(n){for(var i=n.charCodeAt(0),a=0;a<Ut.length;a++)if(Ut[a]===i)return Nt[a];return 0}},{key:"_thresholdResultPattern",value:function(n,i){for(var a,s={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},d=i,v=0;v<n.length;v++){a=this._charToPattern(n[v]);for(var g=6;g>=0;g--){var _=(1&g)==2?s.bar:s.space,E=(1&a)==1?_.wide:_.narrow;E.size+=this._counters[d+g],E.counts++,a>>=1}d+=8}return["space","bar"].forEach(function(P){var X=s[P];X.wide.min=Math.floor((X.narrow.size/X.narrow.counts+X.wide.size/X.wide.counts)/2),X.narrow.max=Math.ceil(X.wide.min),X.wide.max=Math.ceil((2*X.wide.size+1.5)/X.wide.counts)}),s}},{key:"_validateResult",value:function(n,i){for(var a,s=this._thresholdResultPattern(n,i),d=i,v=0;v<n.length;v++){a=this._charToPattern(n[v]);for(var g=6;g>=0;g--){var _=(1&g)==0?s.bar:s.space,E=(1&a)==1?_.wide:_.narrow,P=this._counters[d+g];if(P<E.min||P>E.max)return!1;a>>=1}d+=8}return!0}},{key:"_decode",value:function(n,i){if(this._counters=this._fillCounters(),!(i=this._findStart()))return null;var a,s=i.startCounter,d=[];do{if((a=this._toPattern(s))<0)return null;var v=this._patternToChar(a);if(v===null)return null;if(d.push(v),s+=8,d.length>1&&this._isStartEnd(a))break}while(s<this._counters.length);if(d.length-2<4||!this._isStartEnd(a)||!this._verifyWhitespace(i.startCounter,s-8)||!this._validateResult(d,i.startCounter))return null;s=s>this._counters.length?this._counters.length:s;var g=i.start+this._sumCounters(i.startCounter,s-8);return{code:d.join(""),start:i.start,end:g,startInfo:i,decodedCodes:d,format:this.FORMAT}}}]),l}(V);function xe(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var be=function(p){D()(l,p);var y=xe(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","upc_a"),n}return B()(l,[{key:"_decode",value:function(n,i){var a=et.prototype._decode.call(this);return a&&a.code&&a.code.length===13&&a.code.charAt(0)==="0"?(a.code=a.code.substring(1),a):null}}]),l}(et);function we(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Oe=function(p){D()(l,p);var y=we(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","ean_8"),n}return B()(l,[{key:"_decodePayload",value:function(n,i,a){for(var s=n,d=0;d<4;d++){if(!(s=this._decodeCode(s.end,10)))return null;i.push(s.code),a.push(s)}if((s=this._findPattern(Y,s.end,!0,!1))===null)return null;a.push(s);for(var v=0;v<4;v++){if(!(s=this._decodeCode(s.end,10)))return null;a.push(s),i.push(s.code)}return s}}]),l}(et);function Ce(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Re=function(p){D()(l,p);var y=Ce(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","ean_2"),n}return B()(l,[{key:"_decode",value:function(n,i){n&&(this._row=n);var a=0,s=i,d=this._row.length,v=[],g=[],_=null;if(s===void 0)return null;for(var E=0;E<2&&s<d;E++){if(!(_=this._decodeCode(s)))return null;g.push(_),v.push(_.code%10),_.code>=10&&(a|=1<<1-E),E!==1&&(s=this._nextSet(this._row,_.end),s=this._nextUnset(this._row,s))}if(v.length!==2||parseInt(v.join(""))%4!==a)return null;var P=this._findStart();return{code:v.join(""),decodedCodes:g,end:_.end,format:this.FORMAT,startInfo:P,start:P.start}}}]),l}(et);function Se(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Ee=[24,20,18,17,12,6,3,10,9,5],De=function(p){D()(l,p);var y=Se(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","ean_5"),n}return B()(l,[{key:"_decode",value:function(n,i){if(i===void 0)return null;n&&(this._row=n);for(var a=0,s=i,d=this._row.length,v=null,g=[],_=[],E=0;E<5&&s<d;E++){if(!(v=this._decodeCode(s)))return null;_.push(v),g.push(v.code%10),v.code>=10&&(a|=1<<4-E),E!==4&&(s=this._nextSet(this._row,v.end),s=this._nextUnset(this._row,s))}if(g.length!==5||function(X){for(var $=X.length,rt=0,ot=$-2;ot>=0;ot-=2)rt+=X[ot];rt*=3;for(var at=$-1;at>=0;at-=2)rt+=X[at];return(rt*=3)%10}(g)!==function(X){for(var $=0;$<10;$++)if(X===Ee[$])return $;return null}(a))return null;var P=this._findStart();return{code:g.join(""),decodedCodes:_,end:v.end,format:this.FORMAT,startInfo:P,start:P.start}}}]),l}(et);function Xt(p,y){var l=Object.keys(p);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(p);y&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(p,i).enumerable})),l.push.apply(l,n)}return l}function Ae(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Me=function(p){D()(l,p);var y=Ae(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),O()(C()(n),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),O()(C()(n),"FORMAT","upc_e"),n}return B()(l,[{key:"_decodePayload",value:function(n,i,a){for(var s=function(g){for(var _=1;_<arguments.length;_++){var E=arguments[_]!=null?arguments[_]:{};_%2?Xt(Object(E),!0).forEach(function(P){O()(g,P,E[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(E)):Xt(Object(E)).forEach(function(P){Object.defineProperty(g,P,Object.getOwnPropertyDescriptor(E,P))})}return g}({},n),d=0,v=0;v<6;v++){if(!(s=this._decodeCode(s.end)))return null;s.code>=10&&(s.code=s.code-10,d|=1<<5-v),i.push(s.code),a.push(s)}return this._determineParity(d,i)?s:null}},{key:"_determineParity",value:function(n,i){for(var a=0;a<this.CODE_FREQUENCY.length;a++)for(var s=0;s<this.CODE_FREQUENCY[a].length;s++)if(n===this.CODE_FREQUENCY[a][s])return i.unshift(a),i.push(s),!0;return!1}},{key:"_convertToUPCA",value:function(n){var i=[n[0]],a=n[n.length-2];return(i=a<=2?i.concat(n.slice(1,3)).concat([a,0,0,0,0]).concat(n.slice(3,6)):a===3?i.concat(n.slice(1,4)).concat([0,0,0,0,0]).concat(n.slice(4,6)):a===4?i.concat(n.slice(1,5)).concat([0,0,0,0,0,n[5]]):i.concat(n.slice(1,6)).concat([0,0,0,0,a])).push(n[n.length-1]),i}},{key:"_checksum",value:function(n){return Mt()(R()(l.prototype),"_checksum",this).call(this,this._convertToUPCA(n))}},{key:"_findEnd",value:function(n,i){return Mt()(R()(l.prototype),"_findEnd",this).call(this,n,!0)}},{key:"_verifyTrailingWhitespace",value:function(n){var i=n.end+(n.end-n.start)/2;return i<this._row.length&&this._matchRange(n.end,i,0)?n:null}}]),l}(et);function Te(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var ke=function(p){D()(l,p);var y=Te(l);function l(n){var i;return H()(this,l),i=y.call(this,c()({normalizeBarSpaceWidth:!1},n)),O()(C()(i),"barSpaceRatio",[1,1]),O()(C()(i),"SINGLE_CODE_ERROR",.78),O()(C()(i),"AVG_CODE_ERROR",.38),O()(C()(i),"START_PATTERN",[1,1,1,1]),O()(C()(i),"STOP_PATTERN",[1,1,3]),O()(C()(i),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),O()(C()(i),"MAX_CORRECTION_FACTOR",5),O()(C()(i),"FORMAT","i2of5"),n.normalizeBarSpaceWidth&&(i.SINGLE_CODE_ERROR=.38,i.AVG_CODE_ERROR=.09),i.config=n,W()(i,C()(i))}return B()(l,[{key:"_matchPattern",value:function(n,i){if(this.config.normalizeBarSpaceWidth){for(var a=[0,0],s=[0,0],d=[0,0],v=this.MAX_CORRECTION_FACTOR,g=1/v,_=0;_<n.length;_++)a[_%2]+=n[_],s[_%2]+=i[_];d[0]=s[0]/a[0],d[1]=s[1]/a[1],d[0]=Math.max(Math.min(d[0],v),g),d[1]=Math.max(Math.min(d[1],v),g),this.barSpaceRatio=d;for(var E=0;E<n.length;E++)n[E]*=this.barSpaceRatio[E%2]}return V.prototype._matchPattern.call(this,n,i)}},{key:"_findPattern",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=new Array(n.length).fill(0),v=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=this.AVG_CODE_ERROR;a=a||!1,s=s||!1,i||(i=this._nextSet(this._row));for(var E=i;E<this._row.length;E++)if(this._row[E]^(a?1:0))d[v]++;else{if(v===d.length-1){var P=d.reduce(function(rt,ot){return rt+ot},0),X=this._matchPattern(d,n);if(X<_)return g.error=X,g.start=E-P,g.end=E,g;if(!s)return null;for(var $=0;$<d.length-2;$++)d[$]=d[$+2];d[d.length-2]=0,d[d.length-1]=0,v--}else v++;d[v]=1,a=!a}return null}},{key:"_findStart",value:function(){for(var n=0,i=this._nextSet(this._row),a=null,s=1;!a;){if(!(a=this._findPattern(this.START_PATTERN,i,!1,!0)))return null;if(s=Math.floor((a.end-a.start)/4),(n=a.start-10*s)>=0&&this._matchRange(n,a.start,0))return a;i=a.end,a=null}return null}},{key:"_verifyTrailingWhitespace",value:function(n){var i=n.end+(n.end-n.start)/2;return i<this._row.length&&this._matchRange(n.end,i,0)?n:null}},{key:"_findEnd",value:function(){this._row.reverse();var n=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),n===null)return null;var i=n.start;return n.start=this._row.length-n.end,n.end=this._row.length-i,n!==null?this._verifyTrailingWhitespace(n):null}},{key:"_decodePair",value:function(n){for(var i=[],a=0;a<n.length;a++){var s=this._decodeCode(n[a]);if(!s)return null;i.push(s)}return i}},{key:"_decodeCode",value:function(n){for(var i=this.AVG_CODE_ERROR,a={error:Number.MAX_VALUE,code:-1,start:0,end:0},s=0;s<this.CODE_PATTERN.length;s++){var d=this._matchPattern(n,this.CODE_PATTERN[s]);d<a.error&&(a.code=s,a.error=d)}return a.error<i?a:null}},{key:"_decodePayload",value:function(n,i,a){for(var s=0,d=n.length,v=[[0,0,0,0,0],[0,0,0,0,0]],g=null;s<d;){for(var _=0;_<5;_++)v[0][_]=n[s]*this.barSpaceRatio[0],v[1][_]=n[s+1]*this.barSpaceRatio[1],s+=2;if(!(g=this._decodePair(v)))return null;for(var E=0;E<g.length;E++)i.push(g[E].code+""),a.push(g[E])}return g}},{key:"_verifyCounterLength",value:function(n){return n.length%10==0}},{key:"_decode",value:function(n,i){var a=new Array,s=new Array,d=this._findStart();if(!d)return null;s.push(d);var v=this._findEnd();if(!v)return null;var g=this._fillCounters(d.end,v.start,!1);return this._verifyCounterLength(g)&&this._decodePayload(g,a,s)?a.length%2!=0||a.length<6?null:(s.push(v),{code:a.join(""),start:d.start,end:v.end,startInfo:d,decodedCodes:s,format:this.FORMAT}):null}}]),l}(V);function Pe(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Gt=[3,1,3,1,1,1],je=[3,1,1,1,3],Yt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Ie=Gt.reduce(function(p,y){return p+y},0),ze=function(p){D()(l,p);var y=Pe(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"barSpaceRatio",[1,1]),O()(C()(n),"FORMAT","2of5"),O()(C()(n),"SINGLE_CODE_ERROR",.78),O()(C()(n),"AVG_CODE_ERROR",.3),n}return B()(l,[{key:"_findPattern",value:function(n,i){var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=[],v=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0,E=0,P=this.AVG_CODE_ERROR;i||(i=this._nextSet(this._row));for(var X=0;X<n.length;X++)d[X]=0;for(var $=i;$<this._row.length;$++)if(this._row[$]^(a?1:0))d[v]++;else{if(v===d.length-1){_=0;for(var rt=0;rt<d.length;rt++)_+=d[rt];if((E=this._matchPattern(d,n))<P)return g.error=E,g.start=$-_,g.end=$,g;if(!s)return null;for(var ot=0;ot<d.length-2;ot++)d[ot]=d[ot+2];d[d.length-2]=0,d[d.length-1]=0,v--}else v++;d[v]=1,a=!a}return null}},{key:"_findStart",value:function(){for(var n=null,i=this._nextSet(this._row),a=1,s=0;!n;){if(!(n=this._findPattern(Gt,i,!1,!0)))return null;if(a=Math.floor((n.end-n.start)/Ie),(s=n.start-5*a)>=0&&this._matchRange(s,n.start,0))return n;i=n.end,n=null}return n}},{key:"_verifyTrailingWhitespace",value:function(n){var i=n.end+(n.end-n.start)/2;return i<this._row.length&&this._matchRange(n.end,i,0)?n:null}},{key:"_findEnd",value:function(){this._row.reverse();var n=this._nextSet(this._row),i=this._findPattern(je,n,!1,!0);if(this._row.reverse(),i===null)return null;var a=i.start;return i.start=this._row.length-i.end,i.end=this._row.length-a,i!==null?this._verifyTrailingWhitespace(i):null}},{key:"_verifyCounterLength",value:function(n){return n.length%10==0}},{key:"_decodeCode",value:function(n){for(var i=this.AVG_CODE_ERROR,a={error:Number.MAX_VALUE,code:-1,start:0,end:0},s=0;s<Yt.length;s++){var d=this._matchPattern(n,Yt[s]);d<a.error&&(a.code=s,a.error=d)}return a.error<i?a:null}},{key:"_decodePayload",value:function(n,i,a){for(var s=0,d=n.length,v=[0,0,0,0,0],g=null;s<d;){for(var _=0;_<5;_++)v[_]=n[s]*this.barSpaceRatio[0],s+=2;if(!(g=this._decodeCode(v)))return null;i.push("".concat(g.code)),a.push(g)}return g}},{key:"_decode",value:function(n,i){var a=this._findStart();if(!a)return null;var s=this._findEnd();if(!s)return null;var d=this._fillCounters(a.end,s.start,!1);if(!this._verifyCounterLength(d))return null;var v=[];v.push(a);var g=[];return this._decodePayload(d,g,v)?g.length<5?null:(v.push(s),{code:g.join(""),start:a.start,end:s.end,startInfo:a,decodedCodes:v,format:this.FORMAT}):null}}]),l}(V);function Le(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Ft=new Uint16Array(ct()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(p){return p.charCodeAt(0)})),Jt=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]);function Ue(p){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(l){return!1}}();return function(){var l,n=R()(p);if(y){var i=R()(this).constructor;l=Reflect.construct(n,arguments,i)}else l=n.apply(this,arguments);return W()(this,l)}}var Ot,Ne=/[AEIO]/g,St={code_128_reader:S,ean_reader:et,ean_5_reader:De,ean_2_reader:Re,ean_8_reader:Oe,code_39_reader:pt,code_39_vin_reader:ye,codabar_reader:_e,upc_reader:be,upc_e_reader:Me,i2of5_reader:ke,"2of5_reader":ze,code_93_reader:function(p){D()(l,p);var y=Le(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","code_93"),n}return B()(l,[{key:"_patternToChar",value:function(n){for(var i=0;i<Jt.length;i++)if(Jt[i]===n)return String.fromCharCode(Ft[i]);return null}},{key:"_toPattern",value:function(n){for(var i=n.length,a=n.reduce(function(_,E){return _+E},0),s=0,d=0;d<i;d++){var v=Math.round(9*n[d]/a);if(v<1||v>4)return-1;if((1&d)==0)for(var g=0;g<v;g++)s=s<<1|1;else s<<=v}return s}},{key:"_findStart",value:function(){for(var n=this._nextSet(this._row),i=n,a=new Uint16Array([0,0,0,0,0,0]),s=0,d=!1,v=n;v<this._row.length;v++)if(this._row[v]^(d?1:0))a[s]++;else{if(s===a.length-1){if(this._toPattern(a)===350){var g=Math.floor(Math.max(0,i-(v-i)/4));if(this._matchRange(g,i,0))return{start:i,end:v}}i+=a[0]+a[1];for(var _=0;_<4;_++)a[_]=a[_+2];a[4]=0,a[5]=0,s--}else s++;a[s]=1,d=!d}return null}},{key:"_verifyEnd",value:function(n,i){return!(n===i||!this._row[i])}},{key:"_decodeExtended",value:function(n){for(var i=n.length,a=[],s=0;s<i;s++){var d=n[s];if(d>="a"&&d<="d"){if(s>i-2)return null;var v=n[++s],g=v.charCodeAt(0),_=void 0;switch(d){case"a":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g-64);break;case"b":if(v>="A"&&v<="E")_=String.fromCharCode(g-38);else if(v>="F"&&v<="J")_=String.fromCharCode(g-11);else if(v>="K"&&v<="O")_=String.fromCharCode(g+16);else if(v>="P"&&v<="S")_=String.fromCharCode(g+43);else{if(!(v>="T"&&v<="Z"))return null;_=String.fromCharCode(127)}break;case"c":if(v>="A"&&v<="O")_=String.fromCharCode(g-32);else{if(v!=="Z")return null;_=":"}break;case"d":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",_),null}a.push(_)}else a.push(d)}return a}},{key:"_matchCheckChar",value:function(n,i,a){var s=n.slice(0,i),d=s.length,v=s.reduce(function(g,_,E){return g+((-1*E+(d-1))%a+1)*Ft.indexOf(_.charCodeAt(0))},0);return Ft[v%47]===n[i].charCodeAt(0)}},{key:"_verifyChecksums",value:function(n){return this._matchCheckChar(n,n.length-2,20)&&this._matchCheckChar(n,n.length-1,15)}},{key:"_decode",value:function(n,i){if(!(i=this._findStart()))return null;var a,s,d=new Uint16Array([0,0,0,0,0,0]),v=[],g=this._nextSet(this._row,i.end);do{d=this._toCounters(g,d);var _=this._toPattern(d);if(_<0||(s=this._patternToChar(_))===null)return null;v.push(s),a=g,g+=N.a.sum(d),g=this._nextSet(this._row,g)}while(s!=="*");return v.pop(),v.length&&this._verifyEnd(a,g)&&this._verifyChecksums(v)?(v=v.slice(0,v.length-2),(v=this._decodeExtended(v))===null?null:{code:v.join(""),start:i.start,end:g,startInfo:i,decodedCodes:v,format:this.FORMAT}):null}}]),l}(V),code_32_reader:function(p){D()(l,p);var y=Ue(l);function l(){var n;H()(this,l);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=y.call.apply(y,[this].concat(a)),O()(C()(n),"FORMAT","code_32_reader"),n}return B()(l,[{key:"_decodeCode32",value:function(n){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(n))return null;for(var i=0,a=0;a<n.length;a++)i=32*i+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(n[a]);var s=""+i;return s.length<9&&(s=("000000000"+s).slice(-9)),"A"+s}},{key:"_checkChecksum",value:function(n){return!!n}},{key:"_decode",value:function(n,i){var a=Mt()(R()(l.prototype),"_decode",this).call(this,n,i);if(!a)return null;var s=a.code;if(!s||(s=s.replace(Ne,""),!this._checkChecksum(s)))return null;var d=this._decodeCode32(s);return d?(a.code=d,a):null}}]),l}(pt)},Vt={registerReader:function(p,y){St[p]=y},create:function(p,y){var l={frequency:null,pattern:null,overlay:null},n=[];function i(){p.readers.forEach(function(d){var v,g={},_=[];r()(d)==="object"?(v=d.format,g=d.config):typeof d=="string"&&(v=d),g.supplements&&(_=g.supplements.map(function(P){return new St[P]}));try{var E=new St[v](g,_);n.push(E)}catch(P){throw console.error("* Error constructing reader ",v,P),P}})}function a(d){var v,g=null,_=j.getBarcodeLine(y,d[0],d[1]);for(j.toBinaryLine(_),v=0;v<n.length&&g===null;v++)g=n[v].decodePattern(_.line);return g===null?null:{codeResult:g,barcodeLine:_}}function s(d){var v,g;l.overlay;var _=function(P){return Math.sqrt(Math.pow(Math.abs(P[1].y-P[0].y),2)+Math.pow(Math.abs(P[1].x-P[0].x),2))}(v=function(P){return[{x:(P[1][0]-P[0][0])/2+P[0][0],y:(P[1][1]-P[0][1])/2+P[0][1]},{x:(P[3][0]-P[2][0])/2+P[2][0],y:(P[3][1]-P[2][1])/2+P[2][1]}]}(d)),E=Math.atan2(v[1].y-v[0].y,v[1].x-v[0].x);return(v=function(P,X,$){function rt(ot){var at=ot*Math.sin(X),it=ot*Math.cos(X);P[0].y-=at,P[0].x-=it,P[1].y+=at,P[1].x+=it}for(rt($);$>1&&(!y.inImageWithBorder(P[0])||!y.inImageWithBorder(P[1]));)rt(-($-=Math.ceil($/2)));return P}(v,E,Math.floor(.1*_)))===null?null:((g=a(v))===null&&(g=function(P,X,$){var rt,ot,at,it=Math.sqrt(Math.pow(P[1][0]-P[0][0],2)+Math.pow(P[1][1]-P[0][1],2)),dt=null,ft=Math.sin($),mt=Math.cos($);for(rt=1;rt<16&&dt===null;rt++)at={y:(ot=it/16*rt*(rt%2==0?-1:1))*ft,x:ot*mt},X[0].y+=at.x,X[0].x-=at.y,X[1].y+=at.x,X[1].x-=at.y,dt=a(X);return dt}(d,v,E)),g===null?null:{codeResult:g.codeResult,line:v,angle:E,pattern:g.barcodeLine.line,threshold:g.barcodeLine.threshold})}return i(),{decodeFromBoundingBox:function(d){return s(d)},decodeFromBoundingBoxes:function(d){var v,g,_=[],E=p.multiple;for(v=0;v<d.length;v++){var P=d[v];if((g=s(P)||{}).box=P,E)_.push(g);else if(g.codeResult)return g}if(E)return{barcodes:_}},decodeFromImage:function(d){return function(v){for(var g=null,_=0;_<n.length&&g===null;_++)g=n[_].decodeImage?n[_].decodeImage(v):null;return g}(d)},registerReader:function(d,v){if(St[d])throw new Error("cannot register existing reader",d);St[d]=v},setReaders:function(d){p.readers=d,n.length=0,i()}}}},wt=function(){var p={};function y(i){return p[i]||(p[i]={subscribers:[]}),p[i]}function l(i,a){i.async?setTimeout(function(){i.callback(a)},4):i.callback(a)}function n(i,a,s){var d;if(typeof a=="function")d={callback:a,async:s};else if(!(d=a).callback)throw new Error("Callback was not specified on options");y(i).subscribers.push(d)}return{subscribe:function(i,a,s){return n(i,a,s)},publish:function(i,a){var s=y(i),d=s.subscribers;d.filter(function(v){return!!v.once}).forEach(function(v){l(v,a)}),s.subscribers=d.filter(function(v){return!v.once}),s.subscribers.forEach(function(v){l(v,a)})},once:function(i,a){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];n(i,{callback:a,async:s,once:!0})},unsubscribe:function(i,a){if(i){var s=y(i);s.subscribers=s&&a?s.subscribers.filter(function(d){return d.callback!==a}):[]}else p={}}}}(),Fe=t(11),xt=t.n(Fe),Ve=t(20),Tt=t.n(Ve),We=t(84),Be=t.n(We),Zt="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function qe(){try{return navigator.mediaDevices.enumerateDevices()}catch(y){var p=new Error("enumerateDevices is not defined. ".concat(Zt));return p.code=-1,Promise.reject(p)}}function He(p){try{return navigator.mediaDevices.getUserMedia(p)}catch(l){var y=new Error("getUserMedia is not defined. ".concat(Zt));return y.code=-1,Promise.reject(y)}}function Xe(p){return new Promise(function(y,l){var n=10;(function i(){n>0?p.videoWidth>10&&p.videoHeight>10?y():window.setTimeout(i,500):l(new Error("Unable to play video stream. Is webcam working?")),n--})()})}function Ge(p,y){return $t.apply(this,arguments)}function $t(){return($t=Tt()(xt.a.mark(function p(y,l){var n;return xt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,He(l);case 2:if(n=i.sent,Ot=n,!y){i.next=11;break}return y.setAttribute("autoplay","true"),y.setAttribute("muted","true"),y.setAttribute("playsinline","true"),y.srcObject=n,y.addEventListener("loadedmetadata",function(){y.play()}),i.abrupt("return",Xe(y));case 11:return i.abrupt("return",Promise.resolve());case 12:case"end":return i.stop()}},p)}))).apply(this,arguments)}function Ye(p){var y=Be()(p,["width","height","facingMode","aspectRatio","deviceId"]);return p.minAspectRatio!==void 0&&p.minAspectRatio>0&&(y.aspectRatio=p.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),p.facing!==void 0&&(y.facingMode=p.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),y}function Je(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=Ye(p);return y&&y.deviceId&&y.facingMode&&delete y.facingMode,Promise.resolve({audio:!1,video:y})}function Kt(){return(Kt=Tt()(xt.a.mark(function p(){var y;return xt.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,qe();case 2:return y=l.sent,l.abrupt("return",y.filter(function(n){return n.kind==="videoinput"}));case 4:case"end":return l.stop()}},p)}))).apply(this,arguments)}function Qt(){if(!Ot)return null;var p=Ot.getVideoTracks();return p&&p!=null&&p.length?p[0]:null}var Et={requestedVideoElement:null,request:function(p,y){return Tt()(xt.a.mark(function l(){var n;return xt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Et.requestedVideoElement=p,i.next=3,Je(y);case 3:return n=i.sent,i.abrupt("return",Ge(p,n));case 5:case"end":return i.stop()}},l)}))()},release:function(){var p=Ot&&Ot.getVideoTracks();return Et.requestedVideoElement!==null&&Et.requestedVideoElement.pause(),new Promise(function(y){setTimeout(function(){p&&p.length&&p[0].stop(),Ot=null,Et.requestedVideoElement=null,y()},0)})},enumerateVideoDevices:function(){return Kt.apply(this,arguments)},getActiveStreamLabel:function(){var p=Qt();return p?p.label:""},getActiveTrack:Qt},kt=Et,te={create:function(p){var y,l=document.createElement("canvas"),n=l.getContext("2d"),i=[],a=(y=p.capacity)!==null&&y!==void 0?y:20,s=p.capture===!0;function d(v){return!!a&&v&&!function(g,_){return _&&_.some(function(E){return Object.keys(E).every(function(P){return E[P]===g[P]})})}(v,p.blacklist)&&function(g,_){return typeof _!="function"||_(g)}(v,p.filter)}return{addResult:function(v,g,_){var E={};d(_)&&(a--,E.codeResult=_,s&&(l.width=g.x,l.height=g.y,I.a.drawImage(v,g,n),E.frame=l.toDataURL()),i.push(E))},getResults:function(){return i}}}},Ze={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},bt=t(7),$e=function p(){H()(this,p),O()(this,"config",void 0),O()(this,"inputStream",void 0),O()(this,"framegrabber",void 0),O()(this,"inputImageWrapper",void 0),O()(this,"stopped",!1),O()(this,"boxSize",void 0),O()(this,"resultCollector",void 0),O()(this,"decoder",void 0),O()(this,"workerPool",[]),O()(this,"onUIThread",!0),O()(this,"canvasContainer",new Ke)},ee=function p(){H()(this,p),O()(this,"image",void 0),O()(this,"overlay",void 0)},Ke=function p(){H()(this,p),O()(this,"ctx",void 0),O()(this,"dom",void 0),this.ctx=new ee,this.dom=new ee},Wt=t(23);function re(p){if(typeof document=="undefined")return null;if(p instanceof HTMLElement&&p.nodeName&&p.nodeType===1)return p;var y=typeof p=="string"?p:"#interactive.viewport";return document.querySelector(y)}function ne(p,y){var l=function(i,a){var s=document.querySelector(i);return s||((s=document.createElement("canvas")).className=a),s}(p,y),n=l.getContext("2d");return{canvas:l,context:n}}function Qe(p){var y,l,n,i,a=re(p==null||(y=p.config)===null||y===void 0||(l=y.inputStream)===null||l===void 0?void 0:l.target),s=p==null||(n=p.config)===null||n===void 0||(i=n.inputStream)===null||i===void 0?void 0:i.type;if(!s)return null;var d=function(g){if(typeof document!="undefined"){var _=ne("canvas.imgBuffer","imgBuffer"),E=ne("canvas.drawingBuffer","drawingBuffer");return _.canvas.width=E.canvas.width=g.x,_.canvas.height=E.canvas.height=g.y,{dom:{image:_.canvas,overlay:E.canvas},ctx:{image:_.context,overlay:E.context}}}return null}(p.inputStream.getCanvasSize());if(!d)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var v=d.dom;return typeof document!="undefined"&&a&&(s!=="ImageStream"||a.contains(v.image)||a.appendChild(v.image),a.contains(v.overlay)||a.appendChild(v.overlay)),d}var Pt={274:"orientation"},oe=Object.keys(Pt).map(function(p){return Pt[p]});function tr(p){return new Promise(function(y){var l=new FileReader;l.onload=function(n){return y(n.target.result)},l.readAsArrayBuffer(p)})}function er(p){return new Promise(function(y,l){var n=new XMLHttpRequest;n.open("GET",p,!0),n.responseType="blob",n.onreadystatechange=function(){n.readyState!==XMLHttpRequest.DONE||n.status!==200&&n.status!==0||y(this.response)},n.onerror=l,n.send()})}function rr(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe,l=new DataView(p),n=p.byteLength,i=y.reduce(function(s,d){var v=Object.keys(Pt).filter(function(g){return Pt[g]===d})[0];return v&&(s[v]=d),s},{}),a=2;if(l.getUint8(0)!==255||l.getUint8(1)!==216)return!1;for(;a<n;){if(l.getUint8(a)!==255)return!1;if(l.getUint8(a+1)===225)return nr(l,a+4,i);a+=2+l.getUint16(a+2)}return!1}function nr(p,y,l){if(function(s,d,v){for(var g="",_=d;_<d+v;_++)g+=String.fromCharCode(s.getUint8(_));return g}(p,y,4)!=="Exif")return!1;var n,i=y+6;if(p.getUint16(i)===18761)n=!1;else{if(p.getUint16(i)!==19789)return!1;n=!0}if(p.getUint16(i+2,!n)!==42)return!1;var a=p.getUint32(i+4,!n);return!(a<8)&&function(s,d,v,g,_){for(var E=s.getUint16(v,!_),P={},X=0;X<E;X++){var $=v+12*X+2,rt=g[s.getUint16($,!_)];rt&&(P[rt]=or(s,$,d,v,_))}return P}(p,i,i+a,l,n)}function or(p,y,l,n,i){var a=p.getUint16(y+2,!i),s=p.getUint32(y+4,!i);switch(a){case 3:if(s===1)return p.getUint16(y+8,!i)}return null}var ie={};function ir(p,y){p.onload=function(){y.loaded(this)}}ie.load=function(p,y,l,n,i){var a,s,d,v=new Array(n),g=new Array(v.length);if(i===!1)v[0]=p;else for(a=0;a<v.length;a++)d=l+a,v[a]="".concat(p,"image-").concat("00".concat(d).slice(-3),".jpg");for(g.notLoaded=[],g.addImage=function(_){g.notLoaded.push(_)},g.loaded=function(_){for(var E=g.notLoaded,P=0;P<E.length;P++)if(E[P]===_){E.splice(P,1);for(var X=0;X<v.length;X++){var $=v[X].substr(v[X].lastIndexOf("/"));if(_.src.lastIndexOf($)!==-1){g[X]={img:_};break}}break}E.length===0&&(i===!1?function(rt){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe;return/^blob:/i.test(rt)?er(rt).then(tr).then(function(at){return rr(at,ot)}):Promise.resolve(null)}(p,["orientation"]).then(function(rt){g[0].tags=rt,y(g)}).catch(function(rt){console.log(rt),y(g)}):y(g))},a=0;a<v.length;a++)s=new Image,g.addImage(s),ir(s,g),s.src=v[a]};var ar=ie,ae={createVideoStream:function(p){var y,l,n=null,i=["canrecord","ended"],a={},s={x:0,y:0,type:"Point"},d={x:0,y:0,type:"XYSize"},v={getRealWidth:function(){return p.videoWidth},getRealHeight:function(){return p.videoHeight},getWidth:function(){return y},getHeight:function(){return l},setWidth:function(g){y=g},setHeight:function(g){l=g},setInputStream:function(g){n=g,this.setAttribute("src",g.src!==void 0?g.src:"")},ended:function(){return p.ended},getConfig:function(){return n},setAttribute:function(g,_){p&&p.setAttribute(g,_)},pause:function(){p.pause()},play:function(){p.play()},setCurrentTime:function(g){var _;((_=n)===null||_===void 0?void 0:_.type)!=="LiveStream"&&this.setAttribute("currentTime",g.toString())},addEventListener:function(g,_,E){i.indexOf(g)!==-1?(a[g]||(a[g]=[]),a[g].push(_)):p.addEventListener(g,_,E)},clearEventHandlers:function(){i.forEach(function(g){var _=a[g];_&&_.length>0&&_.forEach(function(E){p.removeEventListener(g,E)})})},trigger:function(g,_){var E,P,X,$,rt,ot=a[g];if(g==="canrecord"&&($=p.videoWidth,rt=p.videoHeight,y=(P=n)!==null&&P!==void 0&&P.size?$/rt>1?n.size:Math.floor($/rt*n.size):$,l=(X=n)!==null&&X!==void 0&&X.size?$/rt>1?Math.floor(rt/$*n.size):n.size:rt,d.x=y,d.y=l),ot&&ot.length>0)for(E=0;E<ot.length;E++)ot[E].apply(v,_)},setTopRight:function(g){s.x=g.x,s.y=g.y},getTopRight:function(){return s},setCanvasSize:function(g){d.x=g.x,d.y=g.y},getCanvasSize:function(){return d},getFrame:function(){return p}};return v},createLiveStream:function(p){p&&p.setAttribute("autoplay","true");var y=ae.createVideoStream(p);return y.ended=function(){return!1},y},createImageStream:function(){var p,y,l=null,n=0,i=0,a=0,s=!0,d=!1,v=null,g=0,_=null,E=!1,P=["canrecord","ended"],X={},$={x:0,y:0,type:"Point"},rt={x:0,y:0,type:"XYSize"};function ot(it,dt){var ft,mt=X[it];if(mt&&mt.length>0)for(ft=0;ft<mt.length;ft++)mt[ft].apply(at,dt)}var at={trigger:ot,getWidth:function(){return p},getHeight:function(){return y},setWidth:function(it){p=it},setHeight:function(it){y=it},getRealWidth:function(){return n},getRealHeight:function(){return i},setInputStream:function(it){var dt;l=it,it.sequence===!1?(_=it.src,g=1):(_=it.src,g=it.length),d=!1,ar.load(_,function(ft){var mt,Dt;if(v=ft,ft[0].tags&&ft[0].tags.orientation)switch(ft[0].tags.orientation){case 6:case 8:n=ft[0].img.height,i=ft[0].img.width;break;default:n=ft[0].img.width,i=ft[0].img.height}else n=ft[0].img.width,i=ft[0].img.height;p=(mt=l)!==null&&mt!==void 0&&mt.size?n/i>1?l.size:Math.floor(n/i*l.size):n,y=(Dt=l)!==null&&Dt!==void 0&&Dt.size?n/i>1?Math.floor(i/n*l.size):l.size:i,rt.x=p,rt.y=y,d=!0,a=0,setTimeout(function(){ot("canrecord",[])},0)},1,g,(dt=l)===null||dt===void 0?void 0:dt.sequence)},ended:function(){return E},setAttribute:function(){},getConfig:function(){return l},pause:function(){s=!0},play:function(){s=!1},setCurrentTime:function(it){a=it},addEventListener:function(it,dt){P.indexOf(it)!==-1&&(X[it]||(X[it]=[]),X[it].push(dt))},clearEventHandlers:function(){Object.keys(X).forEach(function(it){return delete X[it]})},setTopRight:function(it){$.x=it.x,$.y=it.y},getTopRight:function(){return $},setCanvasSize:function(it){rt.x=it.x,rt.y=it.y},getCanvasSize:function(){return rt},getFrame:function(){var it,dt;return d?(s||(it=(dt=v)===null||dt===void 0?void 0:dt[a],a<g-1?a++:setTimeout(function(){E=!0,ot("ended",[])},0)),it):null}};return at}},ur=ae,jt=t(9),ue=Math.PI/180,cr={create:function(p,y){var l,n={},i=p.getConfig(),a=(Object(jt.h)(p.getRealWidth(),p.getRealHeight()),p.getCanvasSize()),s=Object(jt.h)(p.getWidth(),p.getHeight()),d=p.getTopRight(),v=d.x,g=d.y,_=null,E=null;return(l=y||document.createElement("canvas")).width=a.x,l.height=a.y,_=l.getContext("2d"),E=new Uint8Array(s.x*s.y),n.attachData=function(P){E=P},n.getData=function(){return E},n.grab=function(){var P,X=i.halfSample,$=p.getFrame(),rt=$,ot=0;if(rt){if(function(at,it){at.width!==it.x&&(at.width=it.x),at.height!==it.y&&(at.height=it.y)}(l,a),i.type==="ImageStream"&&(rt=$.img,$.tags&&$.tags.orientation))switch($.tags.orientation){case 6:ot=90*ue;break;case 8:ot=-90*ue}return ot!==0?(_.translate(a.x/2,a.y/2),_.rotate(ot),_.drawImage(rt,-a.y/2,-a.x/2,a.y,a.x),_.rotate(-ot),_.translate(-a.x/2,-a.y/2)):_.drawImage(rt,0,0,a.x,a.y),P=_.getImageData(v,g,s.x,s.y).data,X?Object(jt.e)(P,s,E):Object(jt.c)(P,E,i),!0}return!1},n.getSize=function(){return s},n}},sr=cr;function ce(p,y){var l=Object.keys(p);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(p);y&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(p,i).enumerable})),l.push.apply(l,n)}return l}function It(p){for(var y=1;y<arguments.length;y++){var l=arguments[y]!=null?arguments[y]:{};y%2?ce(Object(l),!0).forEach(function(n){O()(p,n,l[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(l)):ce(Object(l)).forEach(function(n){Object.defineProperty(p,n,Object.getOwnPropertyDescriptor(l,n))})}return p}var _t=[];function lr(p){return It(It({},p),{},{inputStream:It(It({},p.inputStream),{},{target:null})})}function fr(p){if(p){var y=p().default;if(!y)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var l;function n(a){self.postMessage({event:"processed",imageData:l.data,result:a},[l.data.buffer])}function i(){self.postMessage({event:"initialized",imageData:l.data},[l.data.buffer])}self.onmessage=function(a){if(a.data.cmd==="init"){var s=a.data.config;s.numOfWorkers=0,l=new y.ImageWrapper({x:a.data.size.x,y:a.data.size.y},new Uint8Array(a.data.imageData)),y.init(s,i,l),y.onProcessed(n)}else a.data.cmd==="process"?(l.data=new Uint8Array(a.data.imageData),y.start()):a.data.cmd==="setReaders"?y.setReaders(a.data.readers):a.data.cmd==="registerReader"&&y.registerReader(a.data.name,a.data.reader)}}function hr(p,y,l){var n,i,a=(typeof __factorySource__!="undefined"&&(i=__factorySource__),n=new Blob(["("+fr.toString()+")("+i+");"],{type:"text/javascript"}),window.URL.createObjectURL(n)),s={worker:new Worker(a),imageData:new Uint8Array(y.getWidth()*y.getHeight()),busy:!0};s.worker.onmessage=function(d){d.data.event==="initialized"?(URL.revokeObjectURL(a),s.busy=!1,s.imageData=new Uint8Array(d.data.imageData),l(s)):d.data.event==="processed"?(s.imageData=new Uint8Array(d.data.imageData),s.busy=!1):d.data.event},s.worker.postMessage({cmd:"init",size:{x:y.getWidth(),y:y.getHeight()},imageData:s.imageData,config:lr(p)},[s.imageData.buffer])}function se(p,y,l,n){var i=p-_t.length;if(i===0&&n)n();else if(i<0)_t.slice(i).forEach(function(d){d.worker.terminate()}),_t=_t.slice(0,i),n&&n();else{var a=function(d){_t.push(d),_t.length>=p&&n&&n()};if(y)for(var s=0;s<i;s++)hr(y,l,a)}}function le(p,y,l){for(var n=p.length;n--;)p[n][0]+=y,p[n][1]+=l}var fe=function(){function p(){var l=this;H()(this,p),O()(this,"context",new $e),O()(this,"canRecord",function(n){var i;l.context.config&&(Wt.a.checkImageConstraints(l.context.inputStream,(i=l.context.config)===null||i===void 0?void 0:i.locator),l.initCanvas(),l.context.framegrabber=sr.create(l.context.inputStream,l.context.canvasContainer.dom.image),l.context.config.numOfWorkers===void 0&&(l.context.config.numOfWorkers=0),se(l.context.config.numOfWorkers,l.context.config,l.context.inputStream,function(){var a;((a=l.context.config)===null||a===void 0?void 0:a.numOfWorkers)===0&&l.initializeData(),l.ready(n)}))}),O()(this,"update",function(){if(l.context.onUIThread){var n,i=(s=l.context.framegrabber,_t.length?!!(d=_t.filter(function(v){return!v.busy})[0])&&(s.attachData(d.imageData),s.grab()&&(d.busy=!0,d.worker.postMessage({cmd:"process",imageData:d.imageData},[d.imageData.buffer])),!0):null);i||(l.context.framegrabber.attachData((n=l.context.inputImageWrapper)===null||n===void 0?void 0:n.data),l.context.framegrabber.grab()&&(i||l.locateAndDecode()))}else{var a;l.context.framegrabber.attachData((a=l.context.inputImageWrapper)===null||a===void 0?void 0:a.data),l.context.framegrabber.grab(),l.locateAndDecode()}var s,d})}var y;return B()(p,[{key:"initBuffers",value:function(l){if(this.context.config){var n=function(s,d,v){var g=d||new f.a({x:s.getWidth(),y:s.getHeight(),type:"XYSize"}),_=[Object(bt.clone)([0,0]),Object(bt.clone)([0,g.size.y]),Object(bt.clone)([g.size.x,g.size.y]),Object(bt.clone)([g.size.x,0])];return Wt.a.init(g,v),{inputImageWrapper:g,boxSize:_}}(this.context.inputStream,l,this.context.config.locator),i=n.inputImageWrapper,a=n.boxSize;this.context.inputImageWrapper=i,this.context.boxSize=a}}},{key:"initializeData",value:function(l){this.context.config&&(this.initBuffers(l),this.context.decoder=Vt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?re(this.context.config.inputStream.target):null}},{key:"ready",value:function(l){this.context.inputStream.play(),l()}},{key:"initCanvas",value:function(){var l=Qe(this.context);if(l){var n=l.ctx,i=l.dom;this.context.canvasContainer.dom.image=i.image,this.context.canvasContainer.dom.overlay=i.overlay,this.context.canvasContainer.ctx.image=n.image,this.context.canvasContainer.ctx.overlay=n.overlay}}},{key:"initInputStream",value:function(l){if(this.context.config&&this.context.config.inputStream){var n=this.context.config.inputStream,i=n.type,a=n.constraints,s=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",_=arguments.length>1?arguments[1]:void 0,E=arguments.length>2?arguments[2]:void 0;switch(g){case"VideoStream":var P=document.createElement("video");return{video:P,inputStream:E.createVideoStream(P)};case"ImageStream":return{inputStream:E.createImageStream()};case"LiveStream":var X=null;return _&&((X=_.querySelector("video"))||(X=document.createElement("video"),_.appendChild(X))),{video:X,inputStream:E.createLiveStream(X)};default:return console.error("* setupInputStream invalid type ".concat(g)),{video:null,inputStream:null}}}(i,this.getViewPort(),ur),d=s.video,v=s.inputStream;i==="LiveStream"&&d&&kt.request(d,a).then(function(){return v.trigger("canrecord")}).catch(function(g){return l(g)}),v.setAttribute("preload","auto"),v.setInputStream(this.context.config.inputStream),v.addEventListener("canrecord",this.canRecord.bind(void 0,l)),this.context.inputStream=v}}},{key:"getBoundingBoxes",value:function(){var l;return(l=this.context.config)!==null&&l!==void 0&&l.locate?Wt.a.locate():[[Object(bt.clone)(this.context.boxSize[0]),Object(bt.clone)(this.context.boxSize[1]),Object(bt.clone)(this.context.boxSize[2]),Object(bt.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(l){var n=this,i=this.context.inputStream.getTopRight(),a=i.x,s=i.y;if((a!==0||s!==0)&&(l.barcodes&&l.barcodes.forEach(function(v){return n.transformResult(v)}),l.line&&l.line.length===2&&function(v,g,_){v[0].x+=g,v[0].y+=_,v[1].x+=g,v[1].y+=_}(l.line,a,s),l.box&&le(l.box,a,s),l.boxes&&l.boxes.length>0))for(var d=0;d<l.boxes.length;d++)le(l.boxes[d],a,s)}},{key:"addResult",value:function(l,n){var i=this;n&&this.context.resultCollector&&(l.barcodes?l.barcodes.filter(function(a){return a.codeResult}).forEach(function(a){return i.addResult(a,n)}):l.codeResult&&this.context.resultCollector.addResult(n,this.context.inputStream.getCanvasSize(),l.codeResult))}},{key:"hasCodeResult",value:function(l){return!(!l||!(l.barcodes?l.barcodes.some(function(n){return n.codeResult}):l.codeResult))}},{key:"publishResult",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=l;l&&this.context.onUIThread&&(this.transformResult(l),this.addResult(l,n),i=l.barcodes||l),wt.publish("processed",i),this.hasCodeResult(l)&&wt.publish("detected",i)}},{key:"locateAndDecode",value:function(){var l=this.getBoundingBoxes();if(l){var n,i=this.context.decoder.decodeFromBoundingBoxes(l)||{};i.boxes=l,this.publishResult(i,(n=this.context.inputImageWrapper)===null||n===void 0?void 0:n.data)}else{var a,s=this.context.decoder.decodeFromImage(this.context.inputImageWrapper);s?this.publishResult(s,(a=this.context.inputImageWrapper)===null||a===void 0?void 0:a.data):this.publishResult()}}},{key:"startContinuousUpdate",value:function(){var l,n=this,i=null,a=1e3/(((l=this.context.config)===null||l===void 0?void 0:l.frequency)||60);this.context.stopped=!1;var s=this.context;(function d(v){i=i||v,s.stopped||(v>=i&&(i+=a,n.update()),window.requestAnimationFrame(d))})(performance.now())}},{key:"start",value:function(){var l,n;this.context.onUIThread&&((l=this.context.config)===null||l===void 0||(n=l.inputStream)===null||n===void 0?void 0:n.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(y=Tt()(xt.a.mark(function l(){var n;return xt.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.context.stopped=!0,se(0),(n=this.context.config)===null||n===void 0||!n.inputStream||this.context.config.inputStream.type!=="LiveStream"){i.next=6;break}return i.next=5,kt.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return i.stop()}},l,this)})),function(){return y.apply(this,arguments)})},{key:"setReaders",value:function(l){this.context.decoder&&this.context.decoder.setReaders(l),function(n){_t.forEach(function(i){return i.worker.postMessage({cmd:"setReaders",readers:n})})}(l)}},{key:"registerReader",value:function(l,n){Vt.registerReader(l,n),this.context.decoder&&this.context.decoder.registerReader(l,n),function(i,a){_t.forEach(function(s){return s.worker.postMessage({cmd:"registerReader",name:i,reader:a})})}(l,n)}}]),p}(),Ct=new fe,Bt=Ct.context,he={init:function(p,y,l){var n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ct;return y||(n=new Promise(function(a,s){y=function(d){d?s(d):a()}})),i.context.config=c()({},Ze,p),i.context.config.numOfWorkers>0&&(i.context.config.numOfWorkers=0),l?(i.context.onUIThread=!1,i.initializeData(l),y&&y()):i.initInputStream(y),n},start:function(){return Ct.start()},stop:function(){return Ct.stop()},pause:function(){Bt.stopped=!0},onDetected:function(p){p&&(typeof p=="function"||r()(p)==="object"&&p.callback)?wt.subscribe("detected",p):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(p){wt.unsubscribe("detected",p)},onProcessed:function(p){p&&(typeof p=="function"||r()(p)==="object"&&p.callback)?wt.subscribe("processed",p):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(p){wt.unsubscribe("processed",p)},setReaders:function(p){p?Ct.setReaders(p):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(p,y){p?y?Ct.registerReader(p,y):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(p){p&&typeof p.addResult=="function"&&(Bt.resultCollector=p)},get canvas(){return Bt.canvasContainer},decodeSingle:function(p,y){var l=this,n=new fe;return(p=c()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:p.src},numOfWorkers:1,locator:{halfSample:!1}},p)).numOfWorkers>0&&(p.numOfWorkers=0),p.numOfWorkers>0&&(typeof Blob=="undefined"||typeof Worker=="undefined")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),p.numOfWorkers=0),new Promise(function(i,a){try{l.init(p,function(){wt.once("processed",function(s){n.stop(),y&&y.call(null,s),i(s)},!0),n.start()},null,n)}catch(s){a(s)}})},get default(){return he},BarcodeReader:V,CameraAccess:kt,ImageDebug:I.a,ImageWrapper:f.a,ResultCollector:te};h.default=he}]).default})}),yt=Or(Cr()),At;(function(z){z.CODE_128="code_128_reader",z.EAN="ean_reader",z.EAN_8="ean_8_reader",z.CODE_39="code_39_reader",z.CODE_39_VIN="code_39_vin_reader",z.CODEABAR="codabar_reader",z.UPC="upc_reader",z.UPC_E="upc_e_reader",z.CODE_I2OF5="i2of5_reader",z.CODE_2OF5="2of5_reader",z.CODE_93="code_93_reader",z.CODE_32="code_32_reader"})(At||(At={}));var Rr=class{constructor(z){ht(this,"autoCss"),ht(this,"resultImages"),ht(this,"codeValidator"),ht(this,"drawLocatedStyle"),ht(this,"drawDetectedStyle"),ht(this,"drawScanlineStyle"),ht(this,"ViewportElement"),ht(this,"isStarted",!1),ht(this,"isAutoCssApplied",!1),ht(this,"scanDeferred"),ht(this,"quaggaConfig",{inputStream:{name:"live",type:"LiveStream",constraints:{width:{min:800,ideal:1920,max:1920},height:{min:600,ideal:1080,max:1080},facingMode:"environment",aspectRatio:{min:1,max:2}}},numOfWorkers:navigator.hardwareConcurrency,locate:!0,frequency:10,decoder:{multiple:!1},locator:{halfSample:!0,patchSize:"medium"}});var Q,o;Object.assign((Q=this.quaggaConfig.inputStream)!=null?Q:{},{target:z.domTarget}),Object.assign((o=this.quaggaConfig.decoder)!=null?o:{},{readers:z.readerTypes}),this.autoCss=z.autoCss,this.resultImages=z.resultImages,this.codeValidator=z.codeValidator,this.drawLocatedStyle=z.drawLocatedStyle,this.drawDetectedStyle=z.drawDetectedStyle,this.drawScanlineStyle=z.drawScanlineStyle;try{this.attachViewport()}catch(h){}}start(){return qt(this,null,function*(){if(!this.isStarted){this.isStarted=!0;try{if(this.ViewportElement||this.attachViewport(),!this.ViewportElement)throw new Error("Cannot start with an undefined viewport target");if(this.autoCss&&!this.isAutoCssApplied){let z=document.createElement("style");if(document.head.appendChild(z),!z.sheet)throw new Error("Cannot create dynamic CSS stylesheet");let Q=`#${this.ViewportElement.id}`;z.sheet.insertRule(`${Q} {display: flex}`),z.sheet.insertRule(`${Q} canvas, video {width: 100%}`),z.sheet.insertRule(`${Q} canvas.drawingBuffer, video.drawingBuffer {margin-left: -100%}`),this.isAutoCssApplied=!0}yield yt.default.init(this.quaggaConfig),yt.default.onProcessed(this.onQuaggaProcessed.bind(this))}catch(z){throw this.isStarted=!1,z}}})}stop(){return qt(this,null,function*(){!this.isStarted||(yt.default.offProcessed(),this.scanDeferred&&this.scanDeferred.reject(new Error("Scanner received stop command")),yield yt.default.stop(),this.isStarted=!1)})}hide(){this.ViewportElement&&(this.ViewportElement.style.display="none")}show(){this.ViewportElement&&(this.ViewportElement.style.display="block")}scanCode(){return qt(this,null,function*(){if(!this.isStarted)throw new Error("Scanner not started");if(this.scanDeferred)throw new Error("Already scanning for code");this.resume();try{return yield new Promise((z,Q)=>this.scanDeferred={resolve:z,reject:Q})}finally{this.scanDeferred=void 0,setTimeout(()=>{this.scanDeferred||this.clearOverlay()},200)}})}attachViewport(){var z;let Q=(z=this.quaggaConfig.inputStream)==null?void 0:z.target;if(!Q)throw new Error("Viewport target is undefined");let o=Q instanceof HTMLElement?"#"+Q.id:String(Q);try{let h=document.querySelector(o);if(!h||!(h instanceof HTMLElement))throw new Error(`Cannot find element at selector: ${o}`);this.ViewportElement=h}catch(h){throw new Error(`Invalid selector: ${o}`)}}resume(){yt.default.start()}pause(){yt.default.pause()}getCanvasBlobPromise(z){return new Promise((Q,o)=>z.toBlob(h=>{h?Q(h):o()}))}onQuaggaProcessed(z){if(!(!this.scanDeferred||!z)&&(this.clearOverlay(),this.drawLocatedStyle&&this.drawLocated(z),z.codeResult&&z.codeResult.code&&z.codeResult.startInfo.error<.12)){if(this.codeValidator&&!this.codeValidator(z.codeResult.code))return;this.drawDetectedStyle&&this.drawDetected(z),this.drawScanlineStyle&&this.drawScanline(z);let Q={code:z.codeResult.code,image:this.resultImages?this.getCanvasBlobPromise(yt.default.canvas.dom.image):void 0,overlay:this.resultImages?this.getCanvasBlobPromise(yt.default.canvas.dom.overlay):void 0};this.scanDeferred.resolve(Q),this.pause()}}get overlayContext(){return yt.default.canvas.ctx.overlay}get overlayCanvas(){return yt.default.canvas.dom.overlay}clearOverlay(){var z,Q;this.overlayContext.clearRect(0,0,parseInt((z=this.overlayCanvas.getAttribute("width"))!=null?z:"0"),parseInt((Q=this.overlayCanvas.getAttribute("height"))!=null?Q:"0"))}drawLocated(z){z.boxes&&this.drawLocatedStyle&&z.boxes.forEach(Q=>{Q!==z.box&&yt.default.ImageDebug.drawPath(Q,{x:0,y:1},this.overlayContext,this.drawLocatedStyle)})}drawDetected(z){z.box&&this.drawDetectedStyle&&yt.default.ImageDebug.drawPath(z.box,{x:0,y:1},this.overlayContext,this.drawDetectedStyle)}drawScanline(z){z.codeResult&&z.codeResult.code&&this.drawScanlineStyle&&yt.default.ImageDebug.drawPath(z.line,{x:"x",y:"y"},this.overlayContext,this.drawScanlineStyle)}},de=class{constructor(z){ht(this,"_domTarget"),ht(this,"_readerTypes",[]),ht(this,"_autoCss",!1),ht(this,"_resultImages",!1),ht(this,"_codeValidator"),ht(this,"_drawLocatedStyle"),ht(this,"_drawDetectedStyle"),ht(this,"_drawScanlineStyle"),this._domTarget=z}addReader(z){return this._readerTypes.push(z),this}withAutoCss(z=!0){return this._autoCss=z,this}withResultImages(z=!0){return this._resultImages=z,this}withCodeValidator(z){return this._codeValidator=z,this}withDrawLocated(z=!0,Q="green",o=2){return z&&(this._drawLocatedStyle={color:Q,lineWidth:o}),this}withDrawDetected(z=!0,Q="#00F",o=2){return z&&(this._drawDetectedStyle={color:Q,lineWidth:o}),this}withDrawScanline(z=!0,Q="red",o=3){return z&&(this._drawScanlineStyle={color:Q,lineWidth:o}),this}build(){return this._readerTypes.length===0&&this._readerTypes.push(At.CODE_128),new Rr(this)}get domTarget(){return this._domTarget}get readerTypes(){return this._readerTypes}get autoCss(){return this._autoCss}get resultImages(){return this._resultImages}get codeValidator(){return this._codeValidator}get drawLocatedStyle(){return this._drawLocatedStyle}get drawDetectedStyle(){return this._drawDetectedStyle}get drawScanlineStyle(){return this._drawScanlineStyle}};var vt;function Tr(z){vt||(vt=new de(z).addReader(At.CODE_128).withDrawLocated().withDrawDetected().withDrawScanline().build())}function kr(){return zt(this,null,function*(){return yield vt==null?void 0:vt.start()})}function Pr(){return zt(this,null,function*(){return yield vt==null?void 0:vt.stop()})}function jr(){return vt==null?void 0:vt.hide()}function Ir(){return vt==null?void 0:vt.show()}function zr(){return zt(this,null,function*(){return yield vt==null?void 0:vt.scanCode().then(z=>z.code)})}export{jr as hide,Tr as init,zr as scanCode,Ir as show,kr as start,Pr as stop};
/* @preserve ASM BEGIN */
/* @preserve ASM END */
//# sourceMappingURL=tslib.esm.min.js.map
